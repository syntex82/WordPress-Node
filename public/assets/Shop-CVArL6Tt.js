import{d as M,r as s,j as e,L as c}from"./vendor-react-D2QycniR.js";import{c6 as p,bz as f}from"./index-Bpp1ZX0C.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function z(){const[x,d]=M(),[h,v]=s.useState([]),[j,b]=s.useState([]),[m,g]=s.useState([]),[N,u]=s.useState(!0),[l,a]=s.useState(1),[n,w]=s.useState(1),o=x.get("category")||"",r=x.get("search")||"";s.useEffect(()=>{y(),k(),L()},[l,o,r]);const y=async()=>{try{u(!0);const{data:t}=await p.getProducts({page:l,limit:12,category:o||void 0,search:r||void 0});v(t.products),w(t.pagination.pages)}catch(t){console.error("Failed to load products:",t)}finally{u(!1)}},k=async()=>{try{const{data:t}=await p.getCategories();b(t)}catch(t){console.error("Failed to load categories:",t)}},L=async()=>{try{const{data:t}=await f.getByLocation("header");g(t.items||[])}catch{try{const{data:t}=await f.getByLocation("main");g(t.items||[])}catch{console.log("No menu found for shop")}}},S=t=>t.url||"#",P=t=>{t.preventDefault();const C=new FormData(t.currentTarget).get("search");d({search:C,category:o}),a(1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-lg border-b border-slate-200/50 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs(c,{to:"/shop",className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"üõçÔ∏è"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:"Shop"})]}),m.length>0&&e.jsx("nav",{className:"hidden md:flex items-center gap-6",children:m.map(t=>e.jsx(c,{to:S(t),target:t.target||"_self",className:"text-slate-600 hover:text-violet-600 font-medium transition-colors",children:t.label},t.id||t.label))})]}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsx(c,{to:"/shop/cart",className:"relative group",children:e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-violet-600 to-indigo-600 text-white px-5 py-2.5 rounded-full font-medium shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 transition-all hover:scale-105",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Cart"]})})})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-violet-600 via-indigo-600 to-purple-600 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Discover Amazing Products"}),e.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Find exactly what you're looking for"}),e.jsx("form",{onSubmit:P,className:"max-w-xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"search",defaultValue:r,placeholder:"Search products...",className:"w-full px-6 py-4 rounded-full text-slate-900 shadow-2xl focus:outline-none focus:ring-4 focus:ring-white/30 text-lg"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-violet-600 to-indigo-600 text-white px-6 py-2.5 rounded-full font-medium hover:opacity-90 transition-opacity",children:"Search"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{className:"flex gap-10",children:[e.jsx("aside",{className:"w-72 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-slate-200/50 p-6 sticky top-24",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"Categories"]}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>{d({search:r}),a(1)},className:`w-full text-left px-4 py-3 rounded-xl transition-all ${o?"text-slate-600 hover:bg-slate-100":"bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-medium shadow-lg shadow-violet-500/25"}`,children:"All Products"})}),j.map(t=>e.jsx("li",{children:e.jsx("button",{onClick:()=>{d({category:t.slug,search:r}),a(1)},className:`w-full text-left px-4 py-3 rounded-xl transition-all ${o===t.slug?"bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-medium shadow-lg shadow-violet-500/25":"text-slate-600 hover:bg-slate-100"}`,children:t.name})},t.id))]})]})}),e.jsx("main",{className:"flex-1",children:N?e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"})}):h.length===0?e.jsxs("div",{className:"text-center py-24",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üîç"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-slate-500",children:"Try adjusting your search or filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(t=>{var i;return e.jsx(c,{to:`/shop/product/${t.slug}`,className:"group",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg shadow-slate-200/50 overflow-hidden hover:shadow-2xl hover:shadow-slate-300/50 transition-all duration-300 hover:-translate-y-2",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-50 relative overflow-hidden",children:[(i=t.images)!=null&&i[0]?e.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.salePrice&&e.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-rose-500 to-pink-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"SALE"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-lg mb-2 group-hover:text-violet-600 transition-colors",children:t.name}),e.jsx("div",{className:"flex items-center gap-3",children:t.salePrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-2xl font-bold text-rose-500",children:["$",Number(t.salePrice).toFixed(2)]}),e.jsxs("span",{className:"text-slate-400 line-through",children:["$",Number(t.price).toFixed(2)]})]}):e.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["$",Number(t.price).toFixed(2)]})})]})]})},t.id)})}),n>1&&e.jsxs("div",{className:"flex justify-center items-center gap-3 mt-12",children:[e.jsx("button",{onClick:()=>a(t=>Math.max(1,t-1)),disabled:l===1,className:"px-5 py-2.5 bg-white rounded-xl shadow-lg font-medium text-slate-600 hover:text-violet-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-xl",children:"‚Üê Previous"}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:n},(t,i)=>i+1).map(t=>e.jsx("button",{onClick:()=>a(t),className:`w-10 h-10 rounded-xl font-medium transition-all ${t===l?"bg-gradient-to-r from-violet-600 to-indigo-600 text-white shadow-lg shadow-violet-500/25":"bg-white text-slate-600 hover:bg-slate-100"}`,children:t},t))}),e.jsx("button",{onClick:()=>a(t=>Math.min(n,t+1)),disabled:l===n,className:"px-5 py-2.5 bg-white rounded-xl shadow-lg font-medium text-slate-600 hover:text-violet-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-xl",children:"Next ‚Üí"})]})]})})]})}),e.jsx("footer",{className:"bg-slate-900 text-white py-12 mt-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-indigo-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"üõçÔ∏è"})}),e.jsx("span",{className:"text-xl font-bold",children:"Shop"})]}),e.jsxs("div",{className:"text-center md:text-right",children:[e.jsxs("p",{className:"text-slate-400 text-sm",children:["¬© ",new Date().getFullYear()," All rights reserved."]}),e.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Developed by ",e.jsx("span",{className:"text-violet-400 font-medium",children:"Michael James Blenkinsop"})," ‚Äî Lead Developer"]}),e.jsx("a",{href:"mailto:m.blenkinsop@yahoo.co.uk",className:"text-slate-500 text-xs hover:text-violet-400 transition-colors",children:"m.blenkinsop@yahoo.co.uk"})]})]})})})]})}export{z as default};

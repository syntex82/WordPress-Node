import{d as j,r,j as e,L as n}from"./vendor-react-D2QycniR.js";import{c8 as p}from"./index-4Xu9g3kZ.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function v(){const[c]=j(),[s,m]=r.useState(null),[x,i]=r.useState(!0),a=c.get("order"),d=c.get("redirect_status");r.useEffect(()=>{a?o(a):i(!1)},[a]);const o=async t=>{try{const{data:l}=await p.getOrder(t);m(l)}catch(l){console.error("Failed to load order:",l)}finally{i(!1)}};if(x)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Processing your order..."})]})});const h=d==="succeeded"||(s==null?void 0:s.paymentStatus)==="PAID",u=d==="failed"||(s==null?void 0:s.paymentStatus)==="FAILED";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsx(n,{to:"/shop",className:"text-2xl font-bold text-gray-900",children:"Shop"})})}),e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:"✓"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your order has been placed successfully."}),s&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-left mb-6",children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Order Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Order Number:"}),e.jsx("span",{className:"font-medium",children:s.orderNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Email:"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"text-green-600 font-medium",children:s.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total:"}),e.jsxs("span",{className:"font-bold text-lg",children:["$",Number(s.total).toFixed(2)]})]})]}),s.items&&s.items.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Items"}),s.items.map(t=>e.jsxs("div",{className:"flex justify-between text-sm py-1",children:[e.jsxs("span",{children:[t.name," × ",t.quantity]}),e.jsxs("span",{children:["$",Number(t.total).toFixed(2)]})]},t.id))]})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"A confirmation email has been sent to your email address."})]}):u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:"✗"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't process your payment. Please try again."}),e.jsx(n,{to:"/shop/checkout",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:"⏳"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Processing Payment"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment is being processed. You'll receive a confirmation email shortly."})]}),e.jsx(n,{to:"/shop",className:"inline-block text-blue-600 hover:underline",children:"Continue Shopping"})]})})]})}export{v as default};

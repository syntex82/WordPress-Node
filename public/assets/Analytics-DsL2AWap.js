import{r as o,j as e}from"./vendor-react-D2QycniR.js";import{x as J,bL as h,z as se,ay as ae,bM as G,bF as P,O as H,bs as re,ar as K,M as le,b as ie,o as te,d as ne,be as ce,e as de,bN as oe,aN as xe,aO as me,bc as ue,bg as he}from"./index-Bwazbld5.js";import{L as pe}from"./LoadingSpinner-BUnjBwPP.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";const ge={US:"United States",GB:"United Kingdom",DE:"Germany",FR:"France",CA:"Canada",AU:"Australia",IN:"India",BR:"Brazil",JP:"Japan",CN:"China",RU:"Russia",IT:"Italy",ES:"Spain",MX:"Mexico",NL:"Netherlands",SE:"Sweden",NO:"Norway",DK:"Denmark",FI:"Finland",PL:"Poland",AT:"Austria",CH:"Switzerland",BE:"Belgium",IE:"Ireland",PT:"Portugal",GR:"Greece",CZ:"Czech Republic",RO:"Romania",HU:"Hungary",SG:"Singapore",MY:"Malaysia",ID:"Indonesia",TH:"Thailand",PH:"Philippines",VN:"Vietnam",KR:"South Korea",TW:"Taiwan",HK:"Hong Kong",NZ:"New Zealand",ZA:"South Africa",EG:"Egypt",NG:"Nigeria",KE:"Kenya",AE:"UAE",SA:"Saudi Arabia",IL:"Israel",TR:"Turkey",UA:"Ukraine",AR:"Argentina",CL:"Chile",CO:"Colombia",PE:"Peru",VE:"Venezuela"},O=s=>ge[s]||s;function Pe(){var V,L,E,z,U;const s=J(),[t,i]=o.useState(!0),[l,n]=o.useState("week"),[x,m]=o.useState("overview"),[r,u]=o.useState(null),[j,M]=o.useState([]),[S,T]=o.useState([]),[C,D]=o.useState([]),[W,R]=o.useState([]),[c,f]=o.useState(null),[p,A]=o.useState(null),[b,k]=o.useState(null),N=o.useCallback(async()=>{var a,d;try{i(!0);const[g,$,w,X,_,Q,ee]=await Promise.all([h.getDashboard(l),h.getPageViews(l),h.getTopPages(l,10),h.getDevices(l),h.getRealtime(),h.getGeographic?h.getGeographic(l):Promise.resolve({data:null}),h.getTrafficSources?h.getTrafficSources(l):Promise.resolve({data:null})]);u(g.data||{pageViews:0,uniqueVisitors:0,sessions:0,avgDuration:0,bounceRate:0}),M($.data||[]),T(w.data||[]);const B=X.data||{};D(B.devices||[]),R(B.browsers||[]),f(_.data||{activeVisitors:0,recentPages:[]});const I=Q.data||{};A({countries:I.countries||[],cities:I.cities||[]}),k(ee.data||{byType:[]})}catch(g){console.error("Analytics fetch error:",g),u({pageViews:0,uniqueVisitors:0,sessions:0,avgDuration:0,bounceRate:0}),M([]),T([]),D([]),R([]),f({activeVisitors:0,recentPages:[]}),A({countries:[],cities:[]}),k({byType:[]}),se.error(((d=(a=g.response)==null?void 0:a.data)==null?void 0:d.message)||"Failed to load analytics")}finally{i(!1)}},[l]);o.useEffect(()=>{N()},[N]),o.useEffect(()=>{const a=setInterval(async()=>{try{const d=await h.getRealtime();f(d.data)}catch{}},1e4);return()=>clearInterval(a)},[]);const y=a=>{if(!a)return"0s";if(a<60)return`${Math.round(a)}s`;const d=Math.floor(a/60),g=Math.round(a%60);return g>0?`${d}m ${g}s`:`${d}m`},F=a=>{switch(a==null?void 0:a.toLowerCase()){case"mobile":return e.jsx(me,{className:"text-blue-400"});case"tablet":return e.jsx(xe,{className:"text-emerald-400"});default:return e.jsx(K,{className:"text-slate-400"})}};return t?e.jsx(pe,{}):e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${s.textPrimary}`,children:"Analytics Dashboard"}),e.jsx("p",{className:`text-sm ${s.textMuted}`,children:"Real-time insights into your website performance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:l,onChange:a=>n(a.target.value),className:`rounded-lg px-3 py-2 text-sm border ${s.card} ${s.border} ${s.textPrimary}`,children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"yesterday",children:"Yesterday"}),e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"}),e.jsx("option",{value:"year",children:"Last Year"})]}),e.jsx("button",{onClick:N,className:`p-2 border rounded-lg ${s.card} ${s.border} hover:bg-blue-500/10`,children:e.jsx(ae,{size:18,className:s.textMuted})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 via-blue-500/10 to-purple-500/10 border border-emerald-500/30 rounded-xl p-4 flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-emerald-500 rounded-full animate-ping opacity-75"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-400 font-bold text-2xl",children:(c==null?void 0:c.activeVisitors)||0}),e.jsx("span",{className:`ml-2 ${s.textMuted}`,children:"active visitors right now"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold ${s.textPrimary}`,children:((r==null?void 0:r.pageViews)||0).toLocaleString()}),e.jsx("div",{className:s.textMuted,children:"Views Today"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold ${s.textPrimary}`,children:((r==null?void 0:r.uniqueVisitors)||0).toLocaleString()}),e.jsx("div",{className:s.textMuted,children:"Unique"})]})]})]}),e.jsx("div",{className:`flex gap-1 p-1 rounded-lg border ${s.card} ${s.border}`,children:[{id:"overview",label:"Overview",icon:G},{id:"realtime",label:"Real-time",icon:P},{id:"geo",label:"Geography",icon:H},{id:"behavior",label:"Behavior",icon:re},{id:"tech",label:"Technology",icon:K}].map(a=>e.jsxs("button",{onClick:()=>m(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${x===a.id?"bg-blue-500 text-white":`${s.textMuted} hover:bg-blue-500/10`}`,children:[e.jsx(a.icon,{size:16}),e.jsx("span",{className:"hidden md:inline",children:a.label})]},a.id))}),x==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(v,{icon:e.jsx(le,{}),label:"Page Views",value:((r==null?void 0:r.pageViews)||0).toLocaleString(),change:(V=r==null?void 0:r.comparison)==null?void 0:V.pageViews,color:"blue"}),e.jsx(v,{icon:e.jsx(ie,{}),label:"Visitors",value:((r==null?void 0:r.uniqueVisitors)||0).toLocaleString(),change:(L=r==null?void 0:r.comparison)==null?void 0:L.uniqueVisitors,color:"green"}),e.jsx(v,{icon:e.jsx(P,{}),label:"Sessions",value:((r==null?void 0:r.sessions)||0).toLocaleString(),change:(E=r==null?void 0:r.comparison)==null?void 0:E.sessions,color:"purple"}),e.jsx(v,{icon:e.jsx(te,{}),label:"Avg Duration",value:y((r==null?void 0:r.avgDuration)||0),change:(z=r==null?void 0:r.comparison)==null?void 0:z.avgDuration,color:"orange"}),e.jsx(v,{icon:e.jsx(ne,{}),label:"Bounce Rate",value:`${(r==null?void 0:r.bounceRate)||0}%`,change:(U=r==null?void 0:r.comparison)==null?void 0:U.bounceRate,color:"red",inverse:!0}),e.jsx(v,{icon:e.jsx(G,{}),label:"Pages/Session",value:`${(r==null?void 0:r.pagesPerSession)||0}`,color:"cyan"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(q,{pageViews:j,theme:s}),e.jsx(je,{sources:(b==null?void 0:b.byType)||[],theme:s})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Z,{pages:S,formatDuration:y,theme:s}),e.jsx(Y,{devices:C,getDeviceIcon:F,theme:s})]})]}),x==="realtime"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`font-semibold ${s.textPrimary}`,children:"Pageviews (Last 30 minutes)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:`text-sm ${s.textMuted}`,children:"Live"})]})]}),e.jsx("div",{className:"h-32 flex items-end gap-1",children:((c==null?void 0:c.pageViewsPerMinute)||[]).map((a,d)=>{const g=Math.max(...((c==null?void 0:c.pageViewsPerMinute)||[]).map(w=>w.count),1),$=a.count/g*100;return e.jsxs("div",{className:"flex-1 group relative",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-emerald-600 to-emerald-400 rounded-t transition-all hover:from-emerald-500",style:{height:`${$}%`,minHeight:a.count>0?"4px":"1px"}}),e.jsxs("div",{className:"hidden group-hover:block absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:[a.minute,": ",a.count," views"]})]},d)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsxs("h3",{className:`font-semibold mb-4 flex items-center gap-2 ${s.textPrimary}`,children:[e.jsx(H,{className:"text-blue-400"})," Active by Country"]}),((c==null?void 0:c.activeByCountry)||[]).length===0?e.jsx("p",{className:`text-center py-8 ${s.textMuted}`,children:"No active visitors"}):e.jsx("div",{className:"space-y-3",children:((c==null?void 0:c.activeByCountry)||[]).map((a,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"text-emerald-400",size:14}),e.jsx("span",{className:s.textPrimary,children:O(a.country)})]}),e.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded text-sm font-medium",children:a.count})]},d))})]}),e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsxs("h3",{className:`font-semibold mb-4 flex items-center gap-2 ${s.textPrimary}`,children:[e.jsx(P,{className:"text-purple-400"})," Active by Page"]}),((c==null?void 0:c.activeByPage)||[]).length===0?e.jsx("p",{className:`text-center py-8 ${s.textMuted}`,children:"No active pages"}):e.jsx("div",{className:"space-y-3",children:((c==null?void 0:c.activeByPage)||[]).slice(0,10).map((a,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`truncate max-w-xs ${s.textPrimary}`,children:a.path}),e.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-sm font-medium",children:a.count})]},d))})]})]}),e.jsxs("div",{className:`rounded-xl border overflow-hidden ${s.card} ${s.border}`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${s.border} flex items-center gap-2`,children:[e.jsx(de,{className:"text-yellow-400"}),e.jsx("h3",{className:`font-semibold ${s.textPrimary}`,children:"Live Activity Feed"})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:((c==null?void 0:c.recentPages)||[]).map((a,d)=>e.jsxs("div",{className:`px-6 py-3 flex items-center justify-between border-b ${s.border} last:border-0`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{className:s.textPrimary,children:a.path}),a.country&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${s.isDark?"bg-slate-700 text-slate-300":"bg-gray-200 text-gray-600"}`,children:a.country})]}),e.jsx("span",{className:`text-sm ${s.textMuted}`,children:a.createdAt?new Date(a.createdAt).toLocaleTimeString():""})]},d))})]})]}),x==="geo"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`lg:col-span-2 rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${s.textPrimary}`,children:"Visitors by Country"}),e.jsx(be,{countries:(p==null?void 0:p.countries)||[],theme:s})]}),e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${s.textPrimary}`,children:"Top Countries"}),e.jsx("div",{className:"space-y-3",children:((p==null?void 0:p.countries)||[]).slice(0,10).map((a,d)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`w-6 text-right text-sm font-medium ${s.textMuted}`,children:d+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:s.textPrimary,children:O(a.country)}),e.jsxs("span",{className:s.textMuted,children:[a.sessions," (",a.percentage,"%)"]})]}),e.jsx("div",{className:`h-1.5 rounded-full ${s.isDark?"bg-slate-700":"bg-gray-200"}`,children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full",style:{width:`${a.percentage}%`}})})]})]},d))})]})]}),e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${s.textPrimary}`,children:"Top Cities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:((p==null?void 0:p.cities)||[]).slice(0,10).map((a,d)=>e.jsxs("div",{className:`p-3 rounded-lg border ${s.border} ${s.card}`,children:[e.jsx("div",{className:`font-medium ${s.textPrimary}`,children:a.city}),e.jsx("div",{className:`text-sm ${s.textMuted}`,children:a.country}),e.jsxs("div",{className:"text-blue-400 font-semibold",children:[a.sessions," sessions"]})]},d))})]})]}),x==="behavior"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Z,{pages:S,formatDuration:y,theme:s}),e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${s.textPrimary}`,children:"Traffic Sources"}),e.jsx("div",{className:"space-y-4",children:((b==null?void 0:b.byType)||[]).map((a,d)=>e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`capitalize ${s.textPrimary}`,children:a.source}),e.jsxs("span",{className:s.textMuted,children:[a.sessions," (",a.percentage,"%)"]})]}),e.jsx("div",{className:`h-2 rounded-full ${s.isDark?"bg-slate-700":"bg-gray-200"}`,children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full",style:{width:`${a.percentage}%`}})})]})},d))})]})]}),e.jsx(q,{pageViews:j,theme:s})]}),x==="tech"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Y,{devices:C,getDeviceIcon:F,theme:s}),e.jsxs("div",{className:`rounded-xl border p-6 ${s.card} ${s.border}`,children:[e.jsxs("h3",{className:`font-semibold mb-4 flex items-center gap-2 ${s.textPrimary}`,children:[e.jsx(oe,{className:"text-blue-400"})," Browsers"]}),e.jsx("div",{className:"space-y-4",children:(W||[]).slice(0,8).map((a,d)=>e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:s.textPrimary,children:a.browser}),e.jsxs("span",{className:s.textMuted,children:[a.count," (",a.percentage,"%)"]})]}),e.jsx("div",{className:`h-2 rounded-full ${s.isDark?"bg-slate-700":"bg-gray-200"}`,children:e.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-yellow-400 rounded-full",style:{width:`${a.percentage}%`}})})]})},d))})]})]})]})}function v({icon:s,label:t,value:i,color:l,change:n,inverse:x}){const m=J(),r={blue:"bg-blue-500/20 text-blue-400",green:"bg-emerald-500/20 text-emerald-400",purple:"bg-purple-500/20 text-purple-400",orange:"bg-amber-500/20 text-amber-400",red:"bg-red-500/20 text-red-400",cyan:"bg-cyan-500/20 text-cyan-400"},u=()=>n?(x?n<0:n>0)?"text-green-500":"text-red-500":"text-gray-400";return e.jsxs("div",{className:`rounded-xl border p-4 ${m.card} ${m.border}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:`p-2 rounded-lg ${r[l]}`,children:s})}),e.jsx("p",{className:`text-2xl font-bold ${m.textPrimary}`,children:i}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:`text-xs ${m.textMuted}`,children:t}),n!==void 0&&e.jsxs("span",{className:`text-xs flex items-center gap-0.5 ${u()}`,children:[n>0?e.jsx(ue,{size:10}):n<0?e.jsx(he,{size:10}):null,Math.abs(n),"%"]})]})]})}function q({pageViews:s,theme:t}){var i,l;return e.jsxs("div",{className:`rounded-xl border p-6 ${t.card} ${t.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${t.textPrimary}`,children:"Page Views Over Time"}),e.jsx("div",{className:"h-48 flex items-end gap-1",children:s.length?s.map((n,x)=>{const m=Math.max(...s.map(u=>u.views),1),r=n.views/m*100;return e.jsxs("div",{className:"flex-1 group relative",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-600 to-blue-400 hover:from-blue-500 rounded-t transition-all cursor-pointer",style:{height:`${r}%`,minHeight:"4px"}}),e.jsxs("div",{className:"hidden group-hover:block absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:[n.date,": ",n.views," views"]})]},x)}):e.jsx("p",{className:`text-center w-full ${t.textMuted}`,children:"No data available"})}),s.length>0&&e.jsxs("div",{className:`flex justify-between text-xs mt-2 ${t.textMuted}`,children:[e.jsx("span",{children:(i=s[0])==null?void 0:i.date}),e.jsx("span",{children:(l=s[s.length-1])==null?void 0:l.date})]})]})}function je({sources:s,theme:t}){const i=["from-blue-500 to-cyan-400","from-purple-500 to-pink-400","from-emerald-500 to-green-400","from-orange-500 to-yellow-400","from-red-500 to-rose-400"];return e.jsxs("div",{className:`rounded-xl border p-6 ${t.card} ${t.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${t.textPrimary}`,children:"Traffic Sources"}),s.length?e.jsx("div",{className:"space-y-4",children:s.map((l,n)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`capitalize ${t.textPrimary}`,children:l.source||"Direct"}),e.jsxs("span",{className:t.textMuted,children:[l.sessions," (",l.percentage,"%)"]})]}),e.jsx("div",{className:`h-2 rounded-full ${t.isDark?"bg-slate-700":"bg-gray-200"}`,children:e.jsx("div",{className:`h-full bg-gradient-to-r ${i[n%i.length]} rounded-full`,style:{width:`${l.percentage}%`}})})]},n))}):e.jsx("p",{className:`text-center py-8 ${t.textMuted}`,children:"No data available"})]})}function Z({pages:s,formatDuration:t,theme:i}){return e.jsxs("div",{className:`rounded-xl border overflow-hidden ${i.card} ${i.border}`,children:[e.jsx("div",{className:`px-6 py-4 border-b ${i.border}`,children:e.jsx("h3",{className:`font-semibold ${i.textPrimary}`,children:"Top Pages"})}),s.length?e.jsx("div",{className:"max-h-80 overflow-y-auto",children:s.map((l,n)=>e.jsxs("div",{className:`px-6 py-3 flex items-center justify-between border-b ${i.border} last:border-0`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${n<3?"bg-blue-500 text-white":`${i.isDark?"bg-slate-700":"bg-gray-200"} ${i.textMuted}`}`,children:n+1}),e.jsx("span",{className:`truncate max-w-xs ${i.textPrimary}`,children:l.path})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:i.textMuted,children:[l.views.toLocaleString()," views"]}),e.jsx("span",{className:i.textMuted,children:t(l.avgDuration)})]})]},n))}):e.jsx("p",{className:`text-center py-8 ${i.textMuted}`,children:"No data available"})]})}function Y({devices:s,getDeviceIcon:t,theme:i}){return e.jsxs("div",{className:`rounded-xl border p-6 ${i.card} ${i.border}`,children:[e.jsx("h3",{className:`font-semibold mb-4 ${i.textPrimary}`,children:"Devices"}),s.length?e.jsx("div",{className:"space-y-4",children:s.map((l,n)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:t(l.device)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`capitalize ${i.textPrimary}`,children:l.device||"Unknown"}),e.jsxs("span",{className:i.textMuted,children:[l.count," (",l.percentage,"%)"]})]}),e.jsx("div",{className:`h-2 rounded-full ${i.isDark?"bg-slate-700":"bg-gray-200"}`,children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${l.percentage}%`}})})]})]},n))}):e.jsx("p",{className:`text-center py-8 ${i.textMuted}`,children:"No data available"})]})}function be({countries:s,theme:t}){new Map(s.map(l=>[l.country,l]));const i=Math.max(...s.map(l=>l.sessions),1);return e.jsx("div",{className:"relative w-full h-64 md:h-80",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsxs("svg",{viewBox:"0 0 1000 500",className:"w-full h-full",children:[e.jsx("rect",{fill:t.isDark?"#0f172a":"#f1f5f9",width:"1000",height:"500",rx:"8"}),e.jsx("ellipse",{cx:"200",cy:"150",rx:"120",ry:"80",fill:t.isDark?"#1e293b":"#e2e8f0"}),e.jsx("ellipse",{cx:"280",cy:"320",rx:"60",ry:"100",fill:t.isDark?"#1e293b":"#e2e8f0"}),e.jsx("ellipse",{cx:"500",cy:"130",rx:"80",ry:"50",fill:t.isDark?"#1e293b":"#e2e8f0"}),e.jsx("ellipse",{cx:"520",cy:"280",rx:"70",ry:"100",fill:t.isDark?"#1e293b":"#e2e8f0"}),e.jsx("ellipse",{cx:"700",cy:"150",rx:"150",ry:"80",fill:t.isDark?"#1e293b":"#e2e8f0"}),e.jsx("ellipse",{cx:"820",cy:"350",rx:"60",ry:"40",fill:t.isDark?"#1e293b":"#e2e8f0"}),s.slice(0,20).map((l,n)=>{const x={US:[180,160],CA:[200,100],MX:[150,220],BR:[300,320],AR:[280,400],GB:[470,120],DE:[510,130],FR:[480,150],IT:[520,170],ES:[450,170],RU:[680,100],CN:[750,180],JP:[850,160],IN:[680,230],AU:[820,350],KR:[820,170],SG:[740,280],ID:[760,310],TH:[720,250],VN:[740,240]},[m,r]=x[l.country]||[500+n*20,250],u=l.sessions/i,j=8+u*20;return e.jsxs("g",{children:[e.jsx("circle",{cx:m,cy:r,r:j,fill:"#3b82f6",opacity:.3+u*.5}),e.jsx("circle",{cx:m,cy:r,r:j*.6,fill:"#3b82f6",opacity:.6+u*.4}),e.jsx("text",{x:m,y:r+j+12,textAnchor:"middle",className:"text-[10px]",fill:t.isDark?"#94a3b8":"#64748b",children:l.country})]},l.country)})]}),e.jsxs("div",{className:`absolute bottom-2 left-2 flex items-center gap-2 text-xs ${t.textMuted}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-30"}),e.jsx("span",{children:"Low"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-60"}),e.jsx("span",{children:"Medium"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{children:"High"})]})]})]})})})}export{Pe as default};

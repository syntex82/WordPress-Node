import{r as s,j as e,L as u}from"./vendor-react-D2QycniR.js";import{c0 as p,c1 as k}from"./index-DXwKa3Mi.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function $(){const[d,b]=s.useState([]),[g,j]=s.useState([]),[f,x]=s.useState(!0),[a,l]=s.useState(1),[o,N]=s.useState(1),[h,v]=s.useState(""),[i,y]=s.useState(""),[n,w]=s.useState("");s.useEffect(()=>{c(),S()},[a,i,n]);const c=async()=>{try{x(!0);const{data:t}=await p.getAll({page:a,limit:20,status:i||void 0,category:n||void 0,search:h||void 0});b(t.products),N(t.pagination.pages)}catch(t){console.error("Failed to load products:",t)}finally{x(!1)}},S=async()=>{try{const{data:t}=await k.getAll();j(t)}catch(t){console.error("Failed to load categories:",t)}},P=t=>{t.preventDefault(),l(1),c()},A=async t=>{if(confirm("Are you sure you want to delete this product?"))try{await p.delete(t),c()}catch(r){console.error("Failed to delete product:",r)}},C=t=>({PUBLISHED:"bg-green-500/20 text-green-400",DRAFT:"bg-yellow-500/20 text-yellow-400",ARCHIVED:"bg-slate-500/20 text-slate-400"})[t]||"bg-slate-500/20 text-slate-400";return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:"Products"}),e.jsx(u,{to:"/shop/products/new",className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-xl hover:from-blue-700 hover:to-blue-600 shadow-lg shadow-blue-500/20 transition-all",children:"Add Product"})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4 mb-6",children:e.jsxs("form",{onSubmit:P,className:"flex gap-4 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:h,onChange:t=>v(t.target.value),className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 flex-1 min-w-[200px] text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),e.jsxs("select",{value:i,onChange:t=>{y(t.target.value),l(1)},className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PUBLISHED",children:"Published"}),e.jsx("option",{value:"DRAFT",children:"Draft"}),e.jsx("option",{value:"ARCHIVED",children:"Archived"})]}),e.jsxs("select",{value:n,onChange:t=>{w(t.target.value),l(1)},className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Categories"}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("button",{type:"submit",className:"bg-slate-700/50 border border-slate-600/50 text-slate-300 px-4 py-2 rounded-xl hover:bg-slate-600/50 transition-colors",children:"Search"})]})}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 overflow-hidden",children:f?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-slate-700 border-t-blue-500 mx-auto"})}):d.length===0?e.jsx("div",{className:"p-8 text-center text-slate-400",children:"No products found"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-700/30 border-b border-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700/50",children:d.map(t=>{var r,m;return e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[((r=t.images)==null?void 0:r[0])&&e.jsx("img",{src:t.images[0],alt:"",className:"w-10 h-10 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:t.name}),e.jsx("div",{className:"text-sm text-slate-500",children:(m=t.category)==null?void 0:m.name})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-300",children:t.sku||"-"}),e.jsx("td",{className:"px-4 py-3 text-white",children:t.salePrice?e.jsxs("div",{children:[e.jsxs("span",{className:"line-through text-slate-500",children:["$",t.price]}),e.jsxs("span",{className:"ml-2 text-green-400",children:["$",t.salePrice]})]}):e.jsxs("span",{children:["$",t.price]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:t.stock<=t.lowStockThreshold?"text-red-400":"text-white",children:t.stock})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${C(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{to:`/shop/products/${t.id}`,className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>A(t.id),className:"text-red-400 hover:text-red-300 text-sm transition-colors",children:"Delete"})]})})]},t.id)})})]})}),o>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[e.jsx("button",{onClick:()=>l(t=>Math.max(1,t-1)),disabled:a===1,className:"px-3 py-1 border border-slate-600/50 rounded-xl text-slate-300 hover:bg-slate-700/50 disabled:opacity-50 transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-slate-400",children:["Page ",a," of ",o]}),e.jsx("button",{onClick:()=>l(t=>Math.min(o,t+1)),disabled:a===o,className:"px-3 py-1 border border-slate-600/50 rounded-xl text-slate-300 hover:bg-slate-700/50 disabled:opacity-50 transition-colors",children:"Next"})]})]})}export{$ as default};

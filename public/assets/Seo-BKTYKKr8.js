import{r as a,j as e}from"./vendor-react-D2QycniR.js";import{i as I,bq as U,bO as W,w as H,j as v,I as N,bP as r,z as s}from"./index-Bwazbld5.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function _(){const[x,S]=a.useState("redirects"),[k,w]=a.useState(!0),[p,C]=a.useState([]),[b,F]=a.useState([]),[g,P]=a.useState([]),[R,f]=a.useState(!1),[n,m]=a.useState({fromPath:"",toPath:"",type:301}),[E,j]=a.useState(!1),[o,h]=a.useState({url:"",priority:.5,changefreq:"weekly"}),[A,y]=a.useState(!1),[l,c]=a.useState({name:"",type:"Organization",content:"{}",scope:"global"}),i=async()=>{var t,d;try{w(!0);const[u,B,J]=await Promise.all([r.getRedirects(),r.getSitemapEntries(),r.getSchemas()]);C(u.data||[]),F(B.data||[]),P(J.data||[])}catch(u){s.error(((d=(t=u.response)==null?void 0:t.data)==null?void 0:d.message)||"Failed to load SEO data"),console.error("SEO data error:",u)}finally{w(!1)}};a.useEffect(()=>{i()},[]);const O=async()=>{try{await r.createRedirect(n),s.success("Redirect created"),f(!1),m({fromPath:"",toPath:"",type:301}),i()}catch{s.error("Failed to create redirect")}},z=async t=>{if(confirm("Delete this redirect?"))try{await r.deleteRedirect(t),s.success("Redirect deleted"),i()}catch{s.error("Failed to delete redirect")}},D=async()=>{try{await r.createSitemapEntry(o),s.success("Sitemap entry created"),j(!1),h({url:"",priority:.5,changefreq:"weekly"}),i()}catch{s.error("Failed to create sitemap entry")}},L=async t=>{if(confirm("Delete this sitemap entry?"))try{await r.deleteSitemapEntry(t),s.success("Entry deleted"),i()}catch{s.error("Failed to delete entry")}},T=async()=>{try{let t;try{t=JSON.parse(l.content)}catch{s.error("Invalid JSON");return}await r.createSchema({...l,content:t}),s.success("Schema created"),y(!1),c({name:"",type:"Organization",content:"{}",scope:"global"}),i()}catch{s.error("Failed to create schema")}},q=async t=>{if(confirm("Delete this schema?"))try{await r.deleteSchema(t),s.success("Schema deleted"),i()}catch{s.error("Failed to delete schema")}};if(k)return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})});const M=[{id:"redirects",label:"Redirects",icon:U},{id:"sitemap",label:"Sitemap",icon:W},{id:"schema",label:"Schema Markup",icon:H}];return e.jsxs("div",{className:"min-h-screen bg-slate-900 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:"SEO Management"}),e.jsxs("a",{href:"/api/seo/sitemap.xml",target:"_blank",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx(I,{})," View Sitemap"]})]}),e.jsx("div",{className:"flex gap-4 border-b border-slate-700/50 mb-6",children:M.map(t=>e.jsxs("button",{onClick:()=>S(t.id),className:`flex items-center gap-2 px-4 py-3 font-medium border-b-2 -mb-px transition-all ${x===t.id?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-white"}`,children:[e.jsx(t.icon,{size:18})," ",t.label]},t.id))}),x==="redirects"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("p",{className:"text-slate-400",children:[p.length," redirect(s) configured"]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-xl hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all",children:[e.jsx(v,{})," Add Redirect"]})]}),R&&e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur p-4 rounded-xl border border-slate-700/50 mb-4 flex gap-4 items-end flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"From Path"}),e.jsx("input",{type:"text",value:n.fromPath,onChange:t=>m({...n,fromPath:t.target.value}),placeholder:"/old-page",className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"To Path/URL"}),e.jsx("input",{type:"text",value:n.toPath,onChange:t=>m({...n,toPath:t.target.value}),placeholder:"/new-page",className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Type"}),e.jsxs("select",{value:n.type,onChange:t=>m({...n,type:parseInt(t.target.value)}),className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:301,children:"301 Permanent"}),e.jsx("option",{value:302,children:"302 Temporary"})]})]}),e.jsx("button",{onClick:O,className:"bg-gradient-to-r from-emerald-600 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 transition-all",children:"Save"}),e.jsx("button",{onClick:()=>f(!1),className:"bg-slate-700/50 text-slate-300 px-4 py-2 rounded-xl hover:bg-slate-600/50 transition-all",children:"Cancel"})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-700/50",children:[e.jsx("thead",{className:"bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"From"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"To"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-400 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-400 uppercase",children:"Hits"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-700/50",children:[p.map(t=>e.jsxs("tr",{className:t.isActive?"hover:bg-slate-700/30 transition-colors":"bg-slate-800/30 opacity-60",children:[e.jsx("td",{className:"px-6 py-4 font-mono text-sm text-white",children:t.fromPath}),e.jsx("td",{className:"px-6 py-4 font-mono text-sm text-white",children:t.toPath}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${t.type===301?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:t.type})}),e.jsx("td",{className:"px-6 py-4 text-center text-slate-400",children:t.hitCount}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>z(t.id),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(N,{})})})]},t.id)),p.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No redirects configured"})})]})]})})]}),x==="sitemap"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("p",{className:"text-slate-400",children:[b.length," custom entries (posts, pages, products auto-included)"]}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-xl hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all",children:[e.jsx(v,{})," Add Entry"]})]}),E&&e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur p-4 rounded-xl border border-slate-700/50 mb-4 flex gap-4 items-end flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"URL/Path"}),e.jsx("input",{type:"text",value:o.url,onChange:t=>h({...o,url:t.target.value}),placeholder:"/custom-page",className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Priority"}),e.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:o.priority,onChange:t=>h({...o,priority:parseFloat(t.target.value)}),className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Change Freq"}),e.jsxs("select",{value:o.changefreq,onChange:t=>h({...o,changefreq:t.target.value}),className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsx("button",{onClick:D,className:"bg-gradient-to-r from-emerald-600 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 transition-all",children:"Save"}),e.jsx("button",{onClick:()=>j(!1),className:"bg-slate-700/50 text-slate-300 px-4 py-2 rounded-xl hover:bg-slate-600/50 transition-all",children:"Cancel"})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-700/50",children:[e.jsx("thead",{className:"bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"URL"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-400 uppercase",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-400 uppercase",children:"Change Freq"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-700/50",children:[b.map(t=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-mono text-sm text-white",children:t.url}),e.jsx("td",{className:"px-6 py-4 text-center text-slate-300",children:t.priority}),e.jsx("td",{className:"px-6 py-4 text-center capitalize text-slate-300",children:t.changefreq}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>L(t.id),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(N,{})})})]},t.id)),b.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-400",children:"No custom entries"})})]})]})})]}),x==="schema"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("p",{className:"text-slate-400",children:[g.length," schema(s) configured"]}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-xl hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all",children:[e.jsx(v,{})," Add Schema"]})]}),A&&e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur p-4 rounded-xl border border-slate-700/50 mb-4 space-y-4",children:[e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:l.name,onChange:t=>c({...l,name:t.target.value}),placeholder:"My Organization",className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),e.jsxs("div",{className:"w-48",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Type"}),e.jsxs("select",{value:l.type,onChange:t=>c({...l,type:t.target.value}),className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"Organization",children:"Organization"}),e.jsx("option",{value:"LocalBusiness",children:"Local Business"}),e.jsx("option",{value:"WebSite",children:"Website"}),e.jsx("option",{value:"Article",children:"Article"}),e.jsx("option",{value:"Product",children:"Product"}),e.jsx("option",{value:"FAQPage",children:"FAQ Page"}),e.jsx("option",{value:"BreadcrumbList",children:"Breadcrumbs"})]})]}),e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Scope"}),e.jsxs("select",{value:l.scope,onChange:t=>c({...l,scope:t.target.value}),className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"global",children:"Global"}),e.jsx("option",{value:"post",children:"Posts"}),e.jsx("option",{value:"page",children:"Pages"}),e.jsx("option",{value:"product",children:"Products"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"JSON-LD Content"}),e.jsx("textarea",{value:l.content,onChange:t=>c({...l,content:t.target.value}),rows:6,className:"w-full bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white placeholder-slate-500 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:'{"@context":"https://schema.org","@type":"Organization",...}'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:T,className:"bg-gradient-to-r from-emerald-600 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 transition-all",children:"Save"}),e.jsx("button",{onClick:()=>y(!1),className:"bg-slate-700/50 text-slate-300 px-4 py-2 rounded-xl hover:bg-slate-600/50 transition-all",children:"Cancel"})]})]}),e.jsxs("div",{className:"grid gap-4",children:[g.map(t=>e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4 hover:border-slate-600/50 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:t.name}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-lg text-xs",children:t.type}),e.jsx("span",{className:"px-2 py-1 bg-slate-700/50 text-slate-400 rounded-lg text-xs capitalize",children:t.scope})]})]}),e.jsx("button",{onClick:()=>q(t.id),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(N,{})})]}),e.jsx("pre",{className:"mt-3 p-3 bg-slate-900/50 rounded-xl text-xs overflow-auto max-h-32 text-slate-300",children:JSON.stringify(t.content,null,2)})]},t.id)),g.length===0&&e.jsx("p",{className:"text-center py-8 text-slate-400",children:"No schemas configured. Add structured data for better search results!"})]})]})]})}export{_ as default};

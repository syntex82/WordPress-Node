import{k as Te,R as p,a as Ae,r as j,j as r,L as ce}from"./vendor-react-D2QycniR.js";import{aa as Fe,c3 as Ie,c8 as de,c7 as We,z as Z}from"./index-4Xu9g3kZ.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";var be="clover",Me=function(e){return e===3?"v3":e},je="https://js.stripe.com",_e="".concat(je,"/").concat(be,"/stripe.js"),Ue=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,$e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Be=function(e){return Ue.test(e)||$e.test(e)},qe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(je,'"]')),t=0;t<e.length;t++){var n=e[t];if(Be(n.src))return n}return null},ue=function(e){var t="",n=document.createElement("script");n.src="".concat(_e).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},De=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:t})},_=null,q=null,D=null,ze=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Ve=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},He=function(e){return _!==null?_:(_=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=qe();if(!(a&&e)){if(!a)a=ue(e);else if(a&&D!==null&&q!==null){var o;a.removeEventListener("load",D),a.removeEventListener("error",q),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=ue(e)}}D=Ve(t,n),q=ze(n),a.addEventListener("load",D),a.addEventListener("error",q)}catch(c){n(c);return}}),_.catch(function(t){return _=null,Promise.reject(t)}))},Je=function(e,t,n){if(e===null)return null;var a=t[0],o=a.match(/^pk_test/),c=Me(e.version),m=be;o&&c!==m&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,t);return De(l,n),l},U,Se=!1,we=function(){return U||(U=He(null).catch(function(e){return U=null,Promise.reject(e)}),U)};Promise.resolve().then(function(){return we()}).catch(function(s){Se||console.warn(s)});var Ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Se=!0;var a=Date.now();return we().then(function(o){return Je(o,t,a)})},ee={exports:{}},te,pe;function Ye(){if(pe)return te;pe=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return te=s,te}var re,me;function Ge(){if(me)return re;me=1;var s=Ye();function e(){}function t(){}return t.resetWarningCache=e,re=function(){function n(c,m,l,b,h,N){if(N!==s){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},re}var fe;function Xe(){return fe||(fe=1,ee.exports=Ge()()),ee.exports}var Qe=Xe();const d=Te(Qe);function he(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,n)}return t}function xe(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?he(Object(t),!0).forEach(function(n){Ne(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function z(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(e){return typeof e}:z=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(s)}function Ne(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Ze(s,e){if(s==null)return{};var t={},n=Object.keys(s),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(t[a]=s[a]);return t}function et(s,e){if(s==null)return{};var t=Ze(s,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}function Ce(s,e){return tt(s)||rt(s,e)||nt(s,e)||st()}function tt(s){if(Array.isArray(s))return s}function rt(s,e){var t=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(t!=null){var n=[],a=!0,o=!1,c,m;try{for(t=t.call(s);!(a=(c=t.next()).done)&&(n.push(c.value),!(e&&n.length===e));a=!0);}catch(l){o=!0,m=l}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw m}}return n}}function nt(s,e){if(s){if(typeof s=="string")return ve(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ve(s,e)}}function ve(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=s[t];return n}function st(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=function(e,t,n){var a=!!n,o=p.useRef(n);p.useEffect(function(){o.current=n},[n]),p.useEffect(function(){if(!a||!e)return function(){};var c=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,c),function(){e.off(t,c)}},[a,t,e,o])},se=function(e){var t=p.useRef(e);return p.useEffect(function(){t.current=e},[e]),t.current},I=function(e){return e!==null&&z(e)==="object"},at=function(e){return I(e)&&typeof e.then=="function"},ot=function(e){return I(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ge="[object Object]",it=function s(e,t){if(!I(e)||!I(t))return e===t;var n=Array.isArray(e),a=Array.isArray(t);if(n!==a)return!1;var o=Object.prototype.toString.call(e)===ge,c=Object.prototype.toString.call(t)===ge;if(o!==c)return!1;if(!o&&!n)return e===t;var m=Object.keys(e),l=Object.keys(t);if(m.length!==l.length)return!1;for(var b={},h=0;h<m.length;h+=1)b[m[h]]=!0;for(var N=0;N<l.length;N+=1)b[l[N]]=!0;var u=Object.keys(b);if(u.length!==m.length)return!1;var L=e,E=t,C=function(F){return s(L[F],E[F])};return u.every(C)},Ee=function(e,t,n){return I(e)?Object.keys(e).reduce(function(a,o){var c=!I(t)||!it(e[o],t[o]);return n.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):c?xe(xe({},a||{}),{},Ne({},o,e[o])):a},null):null},ke="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ye=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke;if(e===null||ot(e))return e;throw new Error(t)},lt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke;if(at(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return ye(a,t)})};var n=ye(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},ct=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},V=p.createContext(null);V.displayName="ElementsContext";var Pe=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Re=function(e){var t=e.stripe,n=e.options,a=e.children,o=p.useMemo(function(){return lt(t)},[t]),c=p.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),m=Ce(c,2),l=m[0],b=m[1];p.useEffect(function(){var u=!0,L=function(C){b(function(P){return P.stripe?P:{stripe:C,elements:C.elements(n)}})};return o.tag==="async"&&!l.stripe?o.stripePromise.then(function(E){E&&u&&L(E)}):o.tag==="sync"&&!l.stripe&&L(o.stripe),function(){u=!1}},[o,l,n]);var h=se(t);p.useEffect(function(){h!==null&&h!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,t]);var N=se(n);return p.useEffect(function(){if(l.elements){var u=Ee(n,N,["clientSecret","fonts"]);u&&l.elements.update(u)}},[n,N,l.elements]),p.useEffect(function(){ct(l.stripe)},[l.stripe]),p.createElement(V.Provider,{value:l},a)};Re.propTypes={stripe:d.any,options:d.object};var dt=function(e){var t=p.useContext(V);return Pe(t,e)},ut=function(){var e=dt("calls useElements()"),t=e.elements;return t};d.func.isRequired;var Oe=p.createContext(null);Oe.displayName="CheckoutContext";d.any,d.shape({clientSecret:d.oneOfType([d.string,d.instanceOf(Promise)]).isRequired,elementsOptions:d.object}).isRequired;var ae=function(e){var t=p.useContext(Oe),n=p.useContext(V);if(t){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return Pe(n,e)},pt=["mode"],mt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},S=function(e,t){var n="".concat(mt(e),"Element"),a=function(l){var b=l.id,h=l.className,N=l.options,u=N===void 0?{}:N,L=l.onBlur,E=l.onFocus,C=l.onReady,P=l.onChange,F=l.onEscape,R=l.onClick,$=l.onLoadError,W=l.onLoaderStart,B=l.onNetworksChange,T=l.onConfirm,H=l.onCancel,J=l.onShippingAddressChange,K=l.onShippingRateChange,Y=l.onSavedPaymentMethodRemove,G=l.onSavedPaymentMethodUpdate,A=ae("mounts <".concat(n,">")),i="elements"in A?A.elements:null,f="checkoutState"in A?A.checkoutState:null,x=(f==null?void 0:f.type)==="success"||(f==null?void 0:f.type)==="loading"?f.sdk:null,k=p.useState(null),M=Ce(k,2),g=M[0],Le=M[1],O=p.useRef(null),X=p.useRef(null);y(g,"blur",L),y(g,"focus",E),y(g,"escape",F),y(g,"click",R),y(g,"loaderror",$),y(g,"loaderstart",W),y(g,"networkschange",B),y(g,"confirm",T),y(g,"cancel",H),y(g,"shippingaddresschange",J),y(g,"shippingratechange",K),y(g,"savedpaymentmethodremove",Y),y(g,"savedpaymentmethodupdate",G),y(g,"change",P);var Q;C&&(e==="expressCheckout"?Q=C:Q=function(){C(g)}),y(g,"ready",Q),p.useLayoutEffect(function(){if(O.current===null&&X.current!==null&&(i||x)){var v=null;if(x)switch(e){case"paymentForm":v=x.createPaymentFormElement();break;case"payment":v=x.createPaymentElement(u);break;case"address":if("mode"in u){var ie=u.mode,le=et(u,pt);if(ie==="shipping")v=x.createShippingAddressElement(le);else if(ie==="billing")v=x.createBillingAddressElement(le);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":v=x.createExpressCheckoutElement(u);break;case"currencySelector":v=x.createCurrencySelectorElement();break;case"taxId":v=x.createTaxIdElement(u);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else i&&(v=i.create(e,u));O.current=v,Le(v),v&&v.mount(X.current)}},[i,x,u]);var oe=se(u);return p.useEffect(function(){if(O.current){var v=Ee(u,oe,["paymentRequest"]);v&&"update"in O.current&&O.current.update(v)}},[u,oe]),p.useLayoutEffect(function(){return function(){if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}}},[]),p.createElement("div",{id:b,className:h,ref:X})},o=function(l){ae("mounts <".concat(n,">"));var b=l.id,h=l.className;return p.createElement("div",{id:b,className:h})},c=t?o:a;return c.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onEscape:d.func,onClick:d.func,onLoadError:d.func,onLoaderStart:d.func,onNetworksChange:d.func,onConfirm:d.func,onCancel:d.func,onShippingAddressChange:d.func,onShippingRateChange:d.func,onSavedPaymentMethodRemove:d.func,onSavedPaymentMethodUpdate:d.func,options:d.object},c.displayName=n,c.__elementType=e,c},w=typeof window>"u",ft=p.createContext(null);ft.displayName="EmbeddedCheckoutProviderContext";var ht=function(){var e=ae("calls useStripe()"),t=e.stripe;return t};S("auBankAccount",w);S("card",w);S("cardNumber",w);S("cardExpiry",w);S("cardCvc",w);S("iban",w);var xt=S("payment",w);S("expressCheckout",w);S("paymentRequestButton",w);S("linkAuthentication",w);S("address",w);S("shippingAddress",w);S("paymentMethodMessaging",w);S("taxId",w);let ne=null;function vt({orderId:s,total:e}){const t=ht(),n=ut(),[a,o]=j.useState(!1),[c,m]=j.useState(null),l=async b=>{if(b.preventDefault(),!t||!n)return;o(!0),m(null);const{error:h}=await t.confirmPayment({elements:n,confirmParams:{return_url:`${window.location.origin}/admin/order-success?order=${s}`}});h&&(m(h.message||"Payment failed"),o(!1))};return r.jsxs("form",{onSubmit:l,children:[r.jsx("div",{className:"bg-slate-50 rounded-xl p-4 mb-6",children:r.jsx(xt,{options:{layout:"tabs"}})}),c&&r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-xl mb-6 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c]}),r.jsx("button",{type:"submit",disabled:!t||a,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-4 rounded-xl font-semibold text-lg shadow-xl shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all flex items-center justify-center gap-3",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Pay $",e.toFixed(2)]})})]})}function wt(){const s=Ae(),{user:e}=Fe(),[t,n]=j.useState(null),[a,o]=j.useState(!0),[c,m]=j.useState(""),[l,b]=j.useState("info"),[h,N]=j.useState(null),[u,L]=j.useState(null),[E,C]=j.useState(!1),[P,F]=j.useState([]),[R,$]=j.useState(null),[W,B]=j.useState(0),T=(t==null?void 0:t.items.some(i=>{var f;return((f=i.product)==null?void 0:f.type)==="PHYSICAL"}))??!1;j.useEffect(()=>{Y(),K(),e!=null&&e.email&&m(e.email)},[e]),j.useEffect(()=>{t&&T&&H()},[t,T]);const H=async()=>{try{const{data:i}=await Ie.getRates("US",(t==null?void 0:t.subtotal)||0);if(F(i),i.length>0&&!R){const f=i.reduce((x,k)=>k.cost<x.cost?k:x,i[0]);$(f.id),B(f.cost)}}catch(i){console.error("Failed to load shipping rates:",i)}},J=i=>{$(i);const f=P.find(x=>x.id===i);B((f==null?void 0:f.cost)||0)},K=async()=>{try{const{data:i}=await de.getConfig();i.publishableKey&&(ne=Ke(i.publishableKey))}catch(i){console.error("Failed to load Stripe config:",i)}},Y=async()=>{try{const{data:i}=await We.get();if(!i||i.items.length===0){s("/shop/cart");return}n(i)}catch(i){console.error("Failed to load cart:",i),s("/shop/cart")}finally{o(!1)}},G=async i=>{var f,x;if(i.preventDefault(),!c){Z.error("Please enter your email");return}if(T&&!R){Z.error("Please select a shipping method");return}try{C(!0);const k={email:c};R&&(k.shippingMethod=R);const{data:M}=await de.createOrder(k);N(M.clientSecret),L(M.order.id),b("payment")}catch(k){console.error("Failed to create order:",k),Z.error(((x=(f=k.response)==null?void 0:f.data)==null?void 0:x.message)||"Failed to create order")}finally{C(!1)}},A=((t==null?void 0:t.subtotal)||0)+W;return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[r.jsx("header",{className:"bg-white/80 backdrop-blur-lg border-b border-slate-200/50 sticky top-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(ce,{to:"/shop",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:"ðŸ›ï¸"})}),r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:"Shop"})]}),r.jsxs(ce,{to:"/shop/cart",className:"flex items-center gap-2 text-slate-600 hover:text-violet-600 font-medium transition-colors",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Cart"]})]})})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-10",children:[r.jsxs("div",{className:`flex items-center gap-2 ${l==="info"?"text-violet-600":"text-emerald-600"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${l==="info"?"bg-gradient-to-br from-violet-600 to-indigo-600":"bg-emerald-500"}`,children:l==="payment"?"âœ“":"1"}),r.jsx("span",{className:"font-semibold",children:"Contact"})]}),r.jsx("div",{className:`w-24 h-1 rounded-full ${l==="payment"?"bg-gradient-to-r from-emerald-500 to-violet-600":"bg-slate-200"}`}),r.jsxs("div",{className:`flex items-center gap-2 ${l==="payment"?"text-violet-600":"text-slate-400"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${l==="payment"?"bg-gradient-to-br from-violet-600 to-indigo-600 text-white":"bg-slate-200 text-slate-500"}`,children:"2"}),r.jsx("span",{className:"font-semibold",children:"Payment"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[r.jsxs("div",{className:"lg:col-span-3",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-xl shadow-slate-200/50 p-8",children:l==="info"?r.jsxs("form",{onSubmit:G,children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-100 to-indigo-100 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),"Contact Information"]}),(e==null?void 0:e.email)&&r.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("span",{className:"text-emerald-700",children:["Logged in as ",r.jsx("strong",{children:e.email})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:c,onChange:i=>m(i.target.value),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-violet-500 transition-colors text-lg",placeholder:"your@email.com",required:!0}),r.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"We'll send your order confirmation here"})]}),T&&P.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Shipping Method"]}),r.jsx("div",{className:"space-y-3",children:P.map(i=>r.jsxs("label",{className:`flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all ${R===i.id?"border-violet-500 bg-violet-50":"border-slate-200 hover:border-violet-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"radio",name:"shipping",value:i.id,checked:R===i.id,onChange:()=>J(i.id),className:"w-4 h-4 text-violet-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-900",children:i.name}),r.jsxs("div",{className:"text-sm text-slate-500",children:[i.estimatedDelivery,i.description&&` â€¢ ${i.description}`]})]})]}),r.jsxs("div",{className:"text-right",children:[i.isFree?r.jsx("span",{className:"text-emerald-600 font-bold",children:"FREE"}):r.jsxs("span",{className:"font-bold text-slate-900",children:["$",i.cost.toFixed(2)]}),i.originalCost&&i.isFree&&r.jsxs("div",{className:"text-xs text-slate-400 line-through",children:["$",i.originalCost.toFixed(2)]})]})]},i.id))})]}),r.jsx("button",{type:"submit",disabled:E||!c||T&&!R,className:"w-full bg-gradient-to-r from-violet-600 to-indigo-600 text-white py-4 rounded-xl font-semibold text-lg shadow-xl shadow-violet-500/25 hover:shadow-violet-500/40 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 transition-all flex items-center justify-center gap-3",children:E?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Order..."]}):r.jsxs(r.Fragment,{children:["Continue to Payment",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}):h&&u&&ne?r.jsxs(Re,{stripe:ne,options:{clientSecret:h,appearance:{theme:"stripe",variables:{colorPrimary:"#7c3aed",borderRadius:"12px"}}},children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),"Payment Details"]}),r.jsx(vt,{orderId:u,total:A})]}):r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"})})}),r.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-lg shadow-slate-200/50",children:[r.jsx("div",{className:"text-2xl mb-2",children:"ðŸ”’"}),r.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Secure SSL"}),r.jsx("div",{className:"text-xs text-slate-400",children:"256-bit encryption"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-lg shadow-slate-200/50",children:[r.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’³"}),r.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Powered by Stripe"}),r.jsx("div",{className:"text-xs text-slate-400",children:"Secure payments"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-lg shadow-slate-200/50",children:[r.jsx("div",{className:"text-2xl mb-2",children:"âœ…"}),r.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Money Back"}),r.jsx("div",{className:"text-xs text-slate-400",children:"30-day guarantee"})]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-slate-200/50 p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Order Summary"}),r.jsx("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto pr-2",children:t==null?void 0:t.items.map(i=>{const f=i.itemType==="COURSE";return r.jsxs("div",{className:"flex gap-4 pb-4 border-b border-slate-100 last:border-b-0",children:[r.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-50 rounded-xl overflow-hidden flex-shrink-0 relative",children:[i.image?r.jsx("img",{src:i.image,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f&&r.jsx("div",{className:"absolute top-1 left-1 bg-indigo-600 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:"Course"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-slate-900 truncate",children:i.name}),r.jsx("div",{className:"text-sm text-slate-500",children:f?"Lifetime access":`Qty: ${i.quantity}`})]}),r.jsxs("div",{className:"font-semibold text-slate-900",children:["$",i.itemTotal.toFixed(2)]})]},i.id)})}),r.jsxs("div",{className:"space-y-3 py-4 border-t border-dashed border-slate-200",children:[r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",t==null?void 0:t.subtotal.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:"Shipping"}),W===0?r.jsx("span",{className:"text-emerald-600 font-medium",children:"FREE"}):r.jsxs("span",{children:["$",W.toFixed(2)]})]})]}),r.jsx("div",{className:"pt-4 border-t border-slate-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Total"}),r.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:["$",A.toFixed(2)]})]})})]})})]})]})]})}export{wt as default};

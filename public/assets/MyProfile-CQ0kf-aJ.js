import{r,j as e,L as ge}from"./vendor-react-D2QycniR.js";import{u as Je,aH as g,cg as A,ch as Be,v as k,ad as E,ci as R,be as Ke,am as Ve,V as Xe,G as I,b as fe,aR as U,bA as je,al as qe,cj as ve,j as T,C as Qe,M as Ze,J as es,ck as ss,O as ts,cl as we,cm as Ne,cn as ye,c5 as ke,bF as as,z as p,ab as Ce}from"./index-Bpp1ZX0C.js";import{C as ls,P as rs}from"./PostCard-C1m8i4eK.js";import{C as is}from"./CommentModal-hAe9HQxJ.js";import{E as os}from"./EditPostModal-COCv5dv8.js";import{R as $,F as ns}from"./RecommendedArticles-CKO0e8yj.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";import"./MobileMediaRecorder-DvADZrOG.js";function js(){var oe,ne,de,ce,me,xe,ue,pe,he;const{resolvedTheme:Pe}=Je(),h=Pe==="dark",[t,j]=r.useState(null),[x,Se]=r.useState(null),[D,Fe]=r.useState([]),[O,f]=r.useState([]),[Le,Me]=r.useState(!0),[_,v]=r.useState(null),[n,C]=r.useState(!1),[z,W]=r.useState(!1),[l,o]=r.useState({}),[w,G]=r.useState(""),[N,Y]=r.useState(""),[P,H]=r.useState(!1),[J,B]=r.useState(!1),S=r.useRef(null),K=r.useRef(null),[b,y]=r.useState("posts"),[V,Ae]=r.useState([]),[Ee,X]=r.useState(!1),[Re,q]=r.useState(null),[Ie,F]=r.useState(!1),[Ue,Q]=r.useState("followers"),[L,Z]=r.useState(null),[Te,ee]=r.useState(null),[se,te]=r.useState(null);r.useEffect(()=>{ae()},[]);const ae=async()=>{var s,a,i,d,c,m,be;try{v(null);const[u,Ye,He]=await Promise.all([g.getMyProfile(),g.getMyStats(),g.getMyActivity()]);if(j(u.data),Se(Ye.data),Fe(((s=He.data)==null?void 0:s.activities)||[]),o(u.data),(a=u.data)!=null&&a.id)try{const M=await A.getUserPosts(u.data.id);f(((i=M.data)==null?void 0:i.data)||[])}catch(M){console.error("Error loading timeline:",M)}}catch(u){console.error("Error loading profile:",u),((d=u.response)==null?void 0:d.status)===401?v("Please log in to view your profile."):((c=u.response)==null?void 0:c.status)===404?v("Profile not found. This may be a new account."):v(((be=(m=u.response)==null?void 0:m.data)==null?void 0:be.message)||"Failed to load profile. Please try again.")}finally{Me(!1)}},le=r.useCallback(async()=>{var s;if(t!=null&&t.id){X(!0);try{const a=await Be.getUserReels(t.id);Ae(((s=a.data)==null?void 0:s.reels)||[])}catch(a){console.error("Error loading reels:",a)}finally{X(!1)}}},[t==null?void 0:t.id]);r.useEffect(()=>{b==="reels"&&(t!=null&&t.id)&&le()},[b,t==null?void 0:t.id,le]);const $e=async()=>{var s;if(t!=null&&t.id)try{const a=await A.getUserPosts(t.id);f(((s=a.data)==null?void 0:s.data)||[])}catch(a){console.error("Error reloading timeline:",a)}},De=async s=>{var a,i;try{await A.deletePost(s),f(d=>d.filter(c=>c.id!==s)),p.success("Post deleted")}catch(d){console.error("Failed to delete post:",d);const c=((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.message)||d.message||"Failed to delete post";p.error(c)}q(null)},Oe=async()=>{W(!0);try{const s=await g.updateMyProfile(l);j(s.data),C(!1)}catch(s){console.error("Error saving profile:",s)}finally{W(!1)}},re=()=>{var s;w.trim()&&!((s=l.skills)!=null&&s.includes(w.trim()))&&(o({...l,skills:[...l.skills||[],w.trim()]}),G(""))},_e=s=>{var a;o({...l,skills:(a=l.skills)==null?void 0:a.filter(i=>i!==s)})},ie=()=>{var s;N.trim()&&!((s=l.interests)!=null&&s.includes(N.trim()))&&(o({...l,interests:[...l.interests||[],N.trim()]}),Y(""))},ze=s=>{var a;o({...l,interests:(a=l.interests)==null?void 0:a.filter(i=>i!==s)})},We=async s=>{var i;const a=(i=s.target.files)==null?void 0:i[0];if(a){if(!a.type.startsWith("image/")){p.error("Please select an image file");return}H(!0);try{const c=(await Ce.upload(a)).data.url;o({...l,avatar:c}),await g.updateMyProfile({avatar:c}),j(m=>m&&{...m,avatar:c}),p.success("Profile picture updated!")}catch(d){console.error("Error uploading avatar:",d),p.error("Failed to upload image")}finally{H(!1)}}},Ge=async s=>{var i;const a=(i=s.target.files)==null?void 0:i[0];if(a){if(!a.type.startsWith("image/")){p.error("Please select an image file");return}B(!0);try{const c=(await Ce.upload(a)).data.url;o({...l,coverImage:c}),await g.updateMyProfile({coverImage:c}),j(m=>m&&{...m,coverImage:c}),p.success("Cover image updated!")}catch(d){console.error("Error uploading cover:",d),p.error("Failed to upload image")}finally{B(!1)}}};return Le?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-4",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-spin"}),e.jsx("div",{className:`absolute inset-1 rounded-full ${h?"bg-slate-900":"bg-gray-100"}`}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-50 animate-pulse"})]}),e.jsx("p",{className:`text-sm font-medium ${h?"text-slate-400":"text-gray-500"}`,children:"Loading your profile..."})]})}):_?e.jsx("div",{className:"p-6 max-w-lg mx-auto",children:e.jsxs("div",{className:`border rounded-2xl p-8 text-center shadow-xl ${h?"bg-red-500/10 border-red-500/20 backdrop-blur-xl":"bg-red-50 border-red-200"}`,children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"w-8 h-8 text-red-400"})}),e.jsx("p",{className:`text-lg font-medium mb-2 ${h?"text-red-400":"text-red-600"}`,children:"Oops! Something went wrong"}),e.jsx("p",{className:`text-sm mb-6 ${h?"text-slate-400":"text-gray-500"}`,children:_}),e.jsx("button",{onClick:ae,className:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl font-medium hover:shadow-lg hover:shadow-red-500/25 transition-all duration-200 hover:scale-105 active:scale-95",children:"Try Again"})]})}):t?e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-0 relative",children:[e.jsx("input",{type:"file",ref:K,onChange:Ge,accept:"image/*",className:"hidden"}),e.jsx("div",{className:"relative h-48 sm:h-56 md:h-64",children:e.jsxs("div",{className:"absolute inset-0 rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),t.coverImage&&e.jsx("img",{src:t.coverImage,alt:"Cover",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-transparent"})]})}),e.jsx("button",{type:"button",onClick:()=>{var s;console.log("Cover button clicked"),(s=K.current)==null||s.click()},disabled:J,className:"absolute top-44 sm:top-48 md:top-56 right-7 sm:right-9 z-50 bg-slate-900/90 hover:bg-slate-800 backdrop-blur-xl text-white px-3 py-2 sm:px-5 sm:py-2.5 rounded-xl flex items-center gap-2 transition-all duration-200 disabled:opacity-50 cursor-pointer shadow-xl border border-white/20 text-xs sm:text-sm font-medium hover:scale-105 active:scale-95",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Change Cover"})]})}),e.jsx("div",{className:"relative px-3 sm:px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 sm:gap-6 -mt-20 sm:-mt-24 md:-mt-28",children:[e.jsxs("div",{className:"relative group mx-auto md:mx-0 z-30",children:[e.jsxs("div",{className:"w-28 h-28 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-2xl sm:rounded-3xl border-4 border-slate-900 bg-slate-900 shadow-2xl overflow-hidden ring-4 ring-white/10",children:[t.avatar?e.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl sm:text-6xl font-bold text-white drop-shadow-lg",children:t.name.charAt(0)})}),e.jsx("div",{onClick:()=>{var s;return(s=S.current)==null?void 0:s.click()},className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-all duration-200 backdrop-blur-sm",children:P?e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 border-3 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs("div",{className:"text-center text-white",children:[e.jsx(R,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Change Photo"})]})})]}),e.jsx("input",{type:"file",ref:S,onChange:We,accept:"image/*",className:"hidden"}),e.jsx("button",{onClick:()=>{var s;return(s=S.current)==null?void 0:s.click()},disabled:P,className:"absolute bottom-2 right-2 sm:bottom-3 sm:right-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white p-2 sm:p-3 rounded-xl shadow-lg shadow-purple-500/30 transition-all duration-200 disabled:opacity-50 hover:scale-110 active:scale-95",children:P?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row md:items-center justify-between gap-4 text-center md:text-left",children:[e.jsxs("div",{className:"min-w-0",children:[n?e.jsx("input",{type:"text",value:l.name||"",onChange:s=>o({...l,name:s.target.value}),className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-transparent border-b-2 border-indigo-500 focus:outline-none text-white w-full"}):e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-white via-white to-slate-300 bg-clip-text text-transparent truncate",children:t.name}),n?e.jsx("input",{type:"text",value:l.headline||"",onChange:s=>o({...l,headline:s.target.value}),placeholder:"Your headline...",className:"text-base sm:text-lg text-slate-400 bg-transparent border-b border-slate-600 focus:outline-none focus:border-indigo-500 w-full mt-2"}):t.headline&&e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-slate-400 mt-2 truncate",children:t.headline}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 sm:gap-5 mt-3 text-sm text-slate-500 flex-wrap",children:[t.location&&e.jsxs("span",{className:"flex items-center gap-1.5 hover:text-slate-400 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"})," ",t.location]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Ve,{className:"w-4 h-4"})," Joined ",new Date(t.createdAt).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex gap-3 justify-center md:justify-end",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Oe,disabled:z,className:"flex items-center gap-2 px-5 sm:px-7 py-2.5 sm:py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:shadow-xl hover:shadow-purple-500/25 transition-all duration-200 disabled:opacity-50 text-sm sm:text-base font-medium hover:scale-105 active:scale-95",children:[e.jsx(Xe,{className:"w-4 h-4"})," ",z?"Saving...":"Save Changes"]}),e.jsxs("button",{onClick:()=>{C(!1),o(t)},className:"flex items-center gap-2 px-5 sm:px-7 py-2.5 sm:py-3 bg-slate-800/80 backdrop-blur border border-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700/80 transition-all duration-200 text-sm sm:text-base font-medium hover:scale-105 active:scale-95",children:[e.jsx(k,{className:"w-4 h-4"})," Cancel"]})]}):e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-5 sm:px-7 py-2.5 sm:py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:shadow-xl hover:shadow-purple-500/25 transition-all duration-200 text-sm sm:text-base font-medium hover:scale-105 active:scale-95",children:[e.jsx(I,{className:"w-4 h-4"})," Edit Profile"]})})]})]})}),e.jsx("div",{className:"px-3 sm:px-6 mb-8 -mx-3 sm:mx-0",children:e.jsx("div",{className:"flex sm:grid sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4 overflow-x-auto sm:overflow-visible pb-3 sm:pb-0 px-3 sm:px-0 scrollbar-hide snap-x snap-mandatory",children:[{label:"Followers",value:t.followersCount,icon:fe,gradient:"from-blue-500 to-cyan-500",shadow:"shadow-blue-500/20",action:()=>{Q("followers"),F(!0)}},{label:"Following",value:t.followingCount,icon:fe,gradient:"from-emerald-500 to-green-500",shadow:"shadow-emerald-500/20",action:()=>{Q("following"),F(!0)}},{label:"Posts",value:(x==null?void 0:x.postsPublished)||0,icon:U,gradient:"from-purple-500 to-pink-500",shadow:"shadow-purple-500/20",action:()=>y("posts")},{label:"Courses",value:(x==null?void 0:x.coursesCompleted)||0,icon:je,gradient:"from-orange-500 to-amber-500",shadow:"shadow-orange-500/20",action:()=>window.location.href="/lms/my-learning"},{label:"Certificates",value:(x==null?void 0:x.certificatesEarned)||0,icon:qe,gradient:"from-pink-500 to-rose-500",shadow:"shadow-pink-500/20",action:()=>window.location.href="/lms/my-learning"}].map((s,a)=>e.jsxs("button",{onClick:s.action,className:"group flex-shrink-0 w-[140px] sm:w-auto snap-start bg-slate-800/50 backdrop-blur-xl rounded-2xl p-4 sm:p-5 border border-slate-700/30 hover:bg-slate-700/50 hover:border-slate-600/50 transition-all duration-300 hover:scale-105 cursor-pointer text-left",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ${s.gradient} rounded-xl flex items-center justify-center mb-3 shadow-lg ${s.shadow} group-hover:scale-110 transition-transform duration-300`,children:e.jsx(s.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("div",{className:"text-xl sm:text-3xl font-bold text-white mb-1",children:s.value}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-400 font-medium",children:s.label})]},a))})}),e.jsx("div",{className:"px-3 sm:px-6 mb-6",children:e.jsxs("div",{className:"flex gap-1 bg-slate-800/50 backdrop-blur-xl rounded-2xl p-1.5 border border-slate-700/30",children:[e.jsxs("button",{onClick:()=>y("posts"),className:`flex-1 flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-medium transition-all duration-200 ${b==="posts"?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/25":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[e.jsx(I,{className:"w-4 h-4"})," Posts"]}),e.jsxs("button",{onClick:()=>y("reels"),className:`flex-1 flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-medium transition-all duration-200 ${b==="reels"?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/25":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[e.jsx(ve,{className:"w-4 h-4"})," Reels"]}),e.jsxs("button",{onClick:()=>y("about"),className:`flex-1 flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-medium transition-all duration-200 ${b==="about"?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/25":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[e.jsx(E,{className:"w-4 h-4"})," About"]})]})}),b==="posts"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 px-3 sm:px-6 pb-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"relative z-20",children:e.jsx(ls,{onPostCreated:$e})}),Re&&e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>q(null)}),e.jsx("div",{className:"space-y-4 relative z-10",children:O.length===0?e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-10 border border-slate-700/30 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(I,{className:"w-8 h-8 text-indigo-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-slate-400",children:"Share what's on your mind above!"})]}):e.jsx("div",{className:"space-y-0 divide-y divide-slate-700/50",children:O.map(s=>e.jsx(rs,{post:s,onDelete:De,onEdit:te,onCommentClick:(a,i)=>{Z(a),ee(i)}},s.id))})})]}),e.jsx("div",{className:"hidden lg:block space-y-5",children:e.jsx($,{limit:5})})]}):b==="reels"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 px-3 sm:px-6 pb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:Ee?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):V.length===0?e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-10 border border-slate-700/30 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ve,{className:"w-8 h-8 text-pink-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Reels Yet"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Create your first reel to share short videos!"}),e.jsxs(ge,{to:"/reels",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-xl font-medium hover:opacity-90 transition-opacity",children:[e.jsx(T,{className:"w-4 h-4"}),"Create Reel"]})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:V.map(s=>e.jsxs(ge,{to:`/reels?reel=${s.id}`,className:"group relative aspect-[9/16] bg-slate-800/50 rounded-xl overflow-hidden border border-slate-700/30 hover:border-pink-500/50 transition-all",children:[s.thumbnailUrl?e.jsx("img",{src:s.thumbnailUrl,alt:s.caption||"Reel",className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("video",{src:s.videoUrl,className:"absolute inset-0 w-full h-full object-cover",muted:!0,playsInline:!0}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all transform scale-75 group-hover:scale-100",children:e.jsx(Qe,{className:"w-5 h-5 text-white ml-0.5"})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex items-center gap-3 text-white text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3.5 h-3.5"}),s.viewsCount||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),s.likesCount||0]})]})})]},s.id))})}),e.jsx("div",{className:"hidden lg:block space-y-5",children:e.jsx($,{limit:5})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 px-3 sm:px-6 pb-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-5",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-5 sm:p-6 border border-slate-700/30 hover:border-slate-600/50 transition-colors",children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-white"})}),"About"]}),n?e.jsx("textarea",{value:l.bio||"",onChange:s=>o({...l,bio:s.target.value}),placeholder:"Write a short bio...",rows:4,className:"w-full p-4 bg-slate-700/50 border border-slate-600/30 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 text-base transition-all"}):e.jsx("p",{className:"text-slate-300 leading-relaxed text-base",children:t.bio||"No bio yet."})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-5 sm:p-6 border border-slate-700/30 hover:border-slate-600/50 transition-colors",children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:e.jsx(ss,{className:"w-4 h-4 text-white"})}),"Work"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Job Title"}),n?e.jsx("input",{type:"text",value:l.jobTitle||"",onChange:s=>o({...l,jobTitle:s.target.value}),className:"w-full p-3 bg-slate-700/50 border border-slate-600/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 text-base transition-all"}):e.jsx("p",{className:"text-white font-medium",children:t.jobTitle||"-"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Company"}),n?e.jsx("input",{type:"text",value:l.company||"",onChange:s=>o({...l,company:s.target.value}),className:"w-full p-3 bg-slate-700/50 border border-slate-600/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 text-base transition-all"}):e.jsx("p",{className:"text-white font-medium",children:t.company||"-"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Location"}),n?e.jsx("input",{type:"text",value:l.location||"",onChange:s=>o({...l,location:s.target.value}),className:"w-full p-3 bg-slate-700/50 border border-slate-600/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 text-base transition-all"}):e.jsx("p",{className:"text-white font-medium",children:t.location||"-"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Website"}),n?e.jsx("input",{type:"url",value:l.website||"",onChange:s=>o({...l,website:s.target.value}),className:"w-full p-3 bg-slate-700/50 border border-slate-600/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 text-base transition-all"}):t.website?e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors text-sm sm:text-base break-all",children:t.website}):e.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"-"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700/50",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4",children:"Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:[(oe=n?l.skills:t.skills)==null?void 0:oe.map((s,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1 sm:py-1.5 bg-indigo-500/20 text-indigo-400 rounded-full text-xs sm:text-sm font-medium",children:[s,n&&e.jsx("button",{onClick:()=>_e(s),className:"hover:text-red-400",children:e.jsx(k,{className:"w-3 h-3"})})]},a)),n&&e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0",children:[e.jsx("input",{type:"text",value:w,onChange:s=>G(s.target.value),onKeyPress:s=>s.key==="Enter"&&re(),placeholder:"Add skill...",className:"flex-1 sm:flex-none px-3 py-1.5 bg-slate-700/50 border border-slate-600/50 rounded-full text-xs sm:text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),e.jsx("button",{onClick:re,className:"p-1.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-full hover:from-blue-700 hover:to-blue-600",children:e.jsx(T,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700/50",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4",children:"Interests"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:[(ne=n?l.interests:t.interests)==null?void 0:ne.map((s,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500/20 text-green-400 rounded-full text-xs sm:text-sm font-medium",children:[s,n&&e.jsx("button",{onClick:()=>ze(s),className:"hover:text-red-400",children:e.jsx(k,{className:"w-3 h-3"})})]},a)),n&&e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0",children:[e.jsx("input",{type:"text",value:N,onChange:s=>Y(s.target.value),onKeyPress:s=>s.key==="Enter"&&ie(),placeholder:"Add interest...",className:"flex-1 sm:flex-none px-3 py-1.5 bg-slate-700/50 border border-slate-600/50 rounded-full text-xs sm:text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-green-500/50"}),e.jsx("button",{onClick:ie,className:"p-1.5 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-full hover:from-green-700 hover:to-green-600",children:e.jsx(T,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700/50",children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})," Social"]}),n?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:[{key:"twitter",icon:we,label:"Twitter"},{key:"linkedin",icon:Ne,label:"LinkedIn"},{key:"github",icon:ye,label:"GitHub"},{key:"youtube",icon:ke,label:"YouTube"}].map(s=>{var a;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400 flex-shrink-0"}),e.jsx("input",{type:"url",value:((a=l.socialLinks)==null?void 0:a[s.key])||"",onChange:i=>o({...l,socialLinks:{...l.socialLinks,[s.key]:i.target.value}}),placeholder:`${s.label} URL`,className:"flex-1 p-2 bg-slate-700/50 border border-slate-600/50 rounded-lg sm:rounded-xl text-xs sm:text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]},s.key)})}):e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[((de=t.socialLinks)==null?void 0:de.twitter)&&e.jsx("a",{href:t.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-3 bg-blue-500/20 text-blue-400 rounded-lg sm:rounded-xl hover:bg-blue-500/30 transition",children:e.jsx(we,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),((ce=t.socialLinks)==null?void 0:ce.linkedin)&&e.jsx("a",{href:t.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-3 bg-blue-500/20 text-blue-400 rounded-lg sm:rounded-xl hover:bg-blue-500/30 transition",children:e.jsx(Ne,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),((me=t.socialLinks)==null?void 0:me.github)&&e.jsx("a",{href:t.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-3 bg-slate-600/50 text-slate-300 rounded-lg sm:rounded-xl hover:bg-slate-600/70 transition",children:e.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),((xe=t.socialLinks)==null?void 0:xe.youtube)&&e.jsx("a",{href:t.socialLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-3 bg-red-500/20 text-red-400 rounded-lg sm:rounded-xl hover:bg-red-500/30 transition",children:e.jsx(ke,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),!((ue=t.socialLinks)!=null&&ue.twitter)&&!((pe=t.socialLinks)!=null&&pe.linkedin)&&!((he=t.socialLinks)!=null&&he.github)&&e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm",children:"No social links added"})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700/50",children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(as,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})," Recent Activity"]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[D.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${s.type==="post_published"?"bg-blue-500/20 text-blue-400":s.type==="certificate_earned"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:s.type==="post_published"?e.jsx(U,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):s.type==="certificate_earned"?e.jsx(je,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):e.jsx(U,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-slate-300 truncate",children:s.title}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500",children:new Date(s.date).toLocaleDateString()})]})]},a)),D.length===0&&e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm",children:"No recent activity"})]})]}),n&&e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg sm:rounded-xl p-4 sm:p-6 border border-slate-700/50",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4",children:"Settings"}),e.jsxs("label",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isPublic!==!1,onChange:s=>o({...l,isPublic:s.target.checked}),className:"w-4 h-4 sm:w-5 sm:h-5 rounded text-blue-500 bg-slate-700 border-slate-600 focus:ring-blue-500/50"}),e.jsx("span",{className:"text-slate-300 text-sm sm:text-base",children:"Public Profile"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Allow others to view your profile"})]}),e.jsx($,{limit:5})]})]}),e.jsx(ns,{isOpen:Ie,onClose:()=>F(!1),userId:t.id,username:t.username,type:Ue,isOwnProfile:!0}),e.jsx(is,{postId:L||"",post:Te||void 0,isOpen:!!L,onClose:()=>{Z(null),ee(null)},onCommentAdded:()=>{f(s=>s.map(a=>a.id===L?{...a,commentsCount:a.commentsCount+1}:a))}}),e.jsx(os,{post:se,isOpen:!!se,onClose:()=>te(null),onPostUpdated:s=>{f(a=>a.map(i=>i.id===s.id?s:i))}})]}):e.jsx("div",{className:"p-6 max-w-lg mx-auto text-center",children:e.jsxs("div",{className:`rounded-2xl p-8 border ${h?"bg-slate-800/50 border-slate-700/50 backdrop-blur-xl":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:"w-16 h-16 bg-slate-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-slate-400"})}),e.jsx("p",{className:`text-lg font-medium ${h?"text-slate-300":"text-gray-700"}`,children:"Profile not found"})]})})}export{js as default};

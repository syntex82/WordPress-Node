import{r as s,j as e,L as P}from"./vendor-react-D2QycniR.js";import{c2 as u}from"./index-DXwKa3Mi.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function R(){const[i,p]=s.useState([]),[b,x]=s.useState(!0),[l,a]=s.useState(1),[r,h]=s.useState(1),[c,g]=s.useState(""),[o,N]=s.useState(""),[n,j]=s.useState(""),[d,v]=s.useState({totalOrders:0,totalRevenue:0,pendingOrders:0,todayOrders:0});s.useEffect(()=>{m(),f()},[l,o,n]);const m=async()=>{try{x(!0);const{data:t}=await u.getAll({page:l,limit:20,status:o||void 0,paymentStatus:n||void 0,search:c||void 0});p(t.orders),h(t.pagination.pages)}catch(t){console.error("Failed to load orders:",t)}finally{x(!1)}},f=async()=>{try{const{data:t}=await u.getStats();v(t)}catch(t){console.error("Failed to load stats:",t)}},y=t=>{t.preventDefault(),a(1),m()},E=t=>({PENDING:"bg-yellow-500/20 text-yellow-400",CONFIRMED:"bg-blue-500/20 text-blue-400",PROCESSING:"bg-purple-500/20 text-purple-400",SHIPPED:"bg-indigo-500/20 text-indigo-400",DELIVERED:"bg-green-500/20 text-green-400",CANCELLED:"bg-red-500/20 text-red-400",REFUNDED:"bg-slate-500/20 text-slate-400"})[t]||"bg-slate-500/20 text-slate-400",S=t=>({PENDING:"bg-yellow-500/20 text-yellow-400",PAID:"bg-green-500/20 text-green-400",FAILED:"bg-red-500/20 text-red-400",REFUNDED:"bg-slate-500/20 text-slate-400",PARTIAL_REFUND:"bg-orange-500/20 text-orange-400"})[t]||"bg-slate-500/20 text-slate-400";return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:"Orders"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Total Orders"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:d.totalOrders})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Total Revenue"}),e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",d.totalRevenue.toFixed(2)]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Pending Orders"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:d.pendingOrders})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Today's Orders"}),e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:d.todayOrders})]})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 p-4 mb-6",children:e.jsxs("form",{onSubmit:y,className:"flex gap-4 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"Search by order # or email...",value:c,onChange:t=>g(t.target.value),className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 flex-1 min-w-[200px] text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),e.jsxs("select",{value:o,onChange:t=>{N(t.target.value),a(1)},className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"PROCESSING",children:"Processing"}),e.jsx("option",{value:"SHIPPED",children:"Shipped"}),e.jsx("option",{value:"DELIVERED",children:"Delivered"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]}),e.jsxs("select",{value:n,onChange:t=>{j(t.target.value),a(1)},className:"bg-slate-700/50 border border-slate-600/50 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Payments"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"})]}),e.jsx("button",{type:"submit",className:"bg-slate-700/50 border border-slate-600/50 text-slate-300 px-4 py-2 rounded-xl hover:bg-slate-600/50 transition-colors",children:"Search"})]})}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 overflow-hidden",children:b?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-slate-700 border-t-blue-500 mx-auto"})}):i.length===0?e.jsx("div",{className:"p-8 text-center text-slate-400",children:"No orders found"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-700/30 border-b border-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Order"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Payment"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-700/50",children:i.map(t=>e.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-white",children:t.orderNumber}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-300",children:t.email}),e.jsxs("td",{className:"px-4 py-3 font-medium text-white",children:["$",Number(t.total).toFixed(2)]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${E(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${S(t.paymentStatus)}`,children:t.paymentStatus})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:new Date(t.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(P,{to:`/shop/orders/${t.id}`,className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"View"})})]},t.id))})]})}),r>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[e.jsx("button",{onClick:()=>a(t=>Math.max(1,t-1)),disabled:l===1,className:"px-3 py-1 border border-slate-600/50 rounded-xl text-slate-300 hover:bg-slate-700/50 disabled:opacity-50 transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-slate-400",children:["Page ",l," of ",r]}),e.jsx("button",{onClick:()=>a(t=>Math.min(r,t+1)),disabled:l===r,className:"px-3 py-1 border border-slate-600/50 rounded-xl text-slate-300 hover:bg-slate-700/50 disabled:opacity-50 transition-colors",children:"Next"})]})]})}export{R as default};

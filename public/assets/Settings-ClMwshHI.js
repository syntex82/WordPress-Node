import{j as e,r as a,a as es}from"./vendor-react-D2QycniR.js";import{aB as ss,aK as $e,a as ts,f as Le,w as oe,aM as Te,V as S,bA as Pe,d as ls,X as W,B as as,y as rs,A as is,bb as ns,S as de,af as Fe,M as xe,J as os,i as ds,v as cs,j as ms,bB as ce,z as r,al as xs,x as us,aI as ae,bH as G,bI as ve,s as P,T as ze,c as hs,ba as Me,m as Ue,O as De,l as ps,aJ as me,ay as M,bJ as gs,bK as bs,I as Ee,bh as Ne,at as fs,e as Ae}from"./index-DAV1T9UC.js";import{L as js}from"./LoadingSpinner-BUnjBwPP.js";import{C as Ie}from"./ConfirmDialog-CucCS87H.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function vs(){return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[e.jsx(ss,{className:"mr-2 text-blue-600",size:24}),"Theme Requirements"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Required File Structure"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md font-mono text-sm",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx($e,{className:"mr-2 text-yellow-600"}),e.jsx("span",{className:"font-semibold",children:"your-theme-name/"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{className:"mr-2 text-blue-600"}),e.jsx("span",{className:"font-semibold text-red-600",children:"theme.json"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(required)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"mr-2 text-green-600"}),e.jsx("span",{children:"screenshot.png"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, 1200x900px recommended)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($e,{className:"mr-2 text-yellow-600"}),e.jsx("span",{className:"font-semibold",children:"templates/"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(required)"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"mr-2 text-purple-600"}),e.jsx("span",{className:"font-semibold text-red-600",children:"home.hbs"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(required)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"mr-2 text-purple-600"}),e.jsx("span",{className:"font-semibold text-red-600",children:"single-post.hbs"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(required)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"mr-2 text-purple-600"}),e.jsx("span",{className:"font-semibold text-red-600",children:"single-page.hbs"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(required)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{className:"mr-2 text-purple-600"}),e.jsx("span",{children:"archive.hbs"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional)"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"theme.json Format"}),e.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-md overflow-x-auto",children:e.jsx("pre",{className:"text-sm",children:`{
  "name": "Your Theme Name",
  "version": "1.0.0",
  "author": "Your Name",
  "description": "Theme description",
  "thumbnail": "/themes/your-theme/screenshot.png",
  "templates": [
    "home",
    "single-post",
    "single-page",
    "archive"
  ],
  "supports": {
    "featuredImages": true,
    "customFields": true,
    "widgets": false
  }
}`})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Available Template Variables"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Site Variables"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{site.site_name}}"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{site.site_description}}"})})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded p-3",children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Post/Page Variables"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{post.title}}"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{post.content}}"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{post.author.name}}"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"{{post.featuredImage}}"})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Packaging Your Theme"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[e.jsx("li",{children:"Create a folder with your theme name (lowercase, no spaces, use hyphens)"}),e.jsx("li",{children:"Add all required files: theme.json and templates folder"}),e.jsx("li",{children:"Optionally add a screenshot.png (1200x900px recommended)"}),e.jsx("li",{children:"Compress the theme folder into a ZIP file"}),e.jsx("li",{children:'Upload the ZIP file using the "Upload Theme" button above'})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Important Notes"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-yellow-800",children:[e.jsx("li",{children:"Theme folder name must match the slug in theme.json"}),e.jsx("li",{children:"All template files must use .hbs extension (Handlebars)"}),e.jsx("li",{children:"Templates must be in the templates/ subdirectory"}),e.jsxs("li",{children:["Use ","{{{"," for raw HTML output in templates"]}),e.jsx("li",{children:"Cannot delete the currently active theme"})]})]})]})]})}function Ns({onThemeInstalled:Y}){const[t,L]=a.useState([]),[R,J]=a.useState(!0),[U,re]=a.useState(""),[_,X]=a.useState(null),[j,v]=a.useState("grid"),[F,O]=a.useState("all"),[ue,K]=a.useState(null),[Q,H]=a.useState("downloads"),[ee,k]=a.useState(!1),[q,C]=a.useState(!1),[$,B]=a.useState(null),[D,se]=a.useState(null),[te,E]=a.useState(null),[d,m]=a.useState({name:"",description:"",version:"1.0.0",category:"blog",tags:"",features:"",demoUrl:"",repositoryUrl:""}),[h,ie]=a.useState({total:0,approved:0,pending:0,featured:0,totalDownloads:0}),[x,A]=a.useState({page:1,limit:20,total:0,totalPages:0}),I=async()=>{J(!0);try{const l=await ce.getThemes({category:F==="all"?void 0:F,search:U||void 0,sortBy:Q,page:x.page,limit:x.limit});L(l.data.themes),A(l.data.pagination)}catch(l){console.error("Failed to fetch themes:",l),L([])}finally{J(!1)}},z=async()=>{try{const l=await ce.getStats();ie(l.data)}catch(l){console.error("Failed to fetch stats:",l)}};a.useEffect(()=>{I(),z()},[F,Q,x.page]),a.useEffect(()=>{const l=setTimeout(()=>{x.page===1?I():A(i=>({...i,page:1}))},300);return()=>clearTimeout(l)},[U]);const he=[{key:"all",label:"All Themes",icon:"ðŸŽ¨"},{key:"blog",label:"Blog",icon:"ðŸ“"},{key:"business",label:"Business",icon:"ðŸ’¼"},{key:"portfolio",label:"Portfolio",icon:"ðŸ–¼ï¸"},{key:"ecommerce",label:"E-Commerce",icon:"ðŸ›’"}],Z=async l=>{var i,o;X(l.id);try{r(`Installing ${l.name}...`,{icon:"â„¹ï¸"}),await ce.installTheme(l.id),r.success(`${l.name} installed successfully!`),I(),Y&&Y()}catch(N){console.error("Installation error:",N);const p=((o=(i=N.response)==null?void 0:i.data)==null?void 0:o.message)||N.message||"Installation failed";p.includes("already exists")?r.error(`${l.name} is already installed. Delete it first to reinstall.`):r.error(`Failed to install ${l.name}: ${p}`)}finally{X(null)}},pe=l=>{var o;const i=(o=l.target.files)==null?void 0:o[0];if(i){se(i);const N=new FileReader;N.onloadend=()=>E(N.result),N.readAsDataURL(i)}},u=async()=>{var l,i;if(!$){r.error("Please select a theme ZIP file");return}if(!d.name.trim()){r.error("Please enter a theme name");return}C(!0);try{const o=new FormData;o.append("file",$),D&&o.append("thumbnail",D),o.append("name",d.name),o.append("description",d.description),o.append("version",d.version),o.append("category",d.category),d.tags&&o.append("tags",d.tags),d.features&&o.append("features",d.features),d.demoUrl&&o.append("demoUrl",d.demoUrl),d.repositoryUrl&&o.append("repositoryUrl",d.repositoryUrl),await ce.submitTheme(o),r.success("Theme submitted successfully! It will be reviewed by an admin."),k(!1),B(null),se(null),E(null),m({name:"",description:"",version:"1.0.0",category:"blog",tags:"",features:"",demoUrl:"",repositoryUrl:""}),I(),z()}catch(o){console.error("Submit error:",o),r.error(((i=(l=o.response)==null?void 0:l.data)==null?void 0:i.message)||"Failed to submit theme")}finally{C(!1)}},T=l=>e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(i=>e.jsx(xs,{size:12,className:i<=l?"text-amber-400 fill-amber-400":"text-slate-600"},i))});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:e.jsx(Te,{className:"text-violet-400",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:h.total}),e.jsx("p",{className:"text-xs text-slate-400",children:"Total Themes"})]})]})}),e.jsx("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:e.jsx(S,{className:"text-emerald-400",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:h.approved}),e.jsx("p",{className:"text-xs text-slate-400",children:"Approved"})]})]})}),e.jsx("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg",children:e.jsx(Pe,{className:"text-amber-400",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:h.featured}),e.jsx("p",{className:"text-xs text-slate-400",children:"Featured"})]})]})}),e.jsx("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(ls,{className:"text-blue-400",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:h.totalDownloads.toLocaleString()}),e.jsx("p",{className:"text-xs text-slate-400",children:"Downloads"})]})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent flex items-center gap-2",children:"ðŸŽ¨ Theme Marketplace"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Browse and install beautiful themes for your site"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl font-medium hover:from-emerald-500 hover:to-teal-500 transition-all shadow-lg shadow-emerald-500/20 flex items-center gap-2",children:[e.jsx(W,{size:16}),"Submit Theme"]}),e.jsxs("div",{className:"relative flex-1 lg:w-72",children:[e.jsx(as,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),e.jsx("input",{type:"text",placeholder:"Search themes...",value:U,onChange:l=>re(l.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]}),e.jsxs("select",{value:Q,onChange:l=>H(l.target.value),className:"px-3 py-2.5 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500/50",children:[e.jsx("option",{value:"downloads",children:"Most Downloads"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"name",children:"Name A-Z"})]}),e.jsxs("div",{className:"flex bg-slate-700/50 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-all ${j==="grid"?"bg-violet-600 text-white":"text-slate-400 hover:text-white"}`,children:e.jsx(rs,{size:16})}),e.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-lg transition-all ${j==="list"?"bg-violet-600 text-white":"text-slate-400 hover:text-white"}`,children:e.jsx(is,{size:16})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[he.map(l=>e.jsxs("button",{onClick:()=>O(l.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${F===l.key?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-500/20":"bg-slate-700/50 text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[e.jsx("span",{children:l.icon}),l.label]},l.key)),e.jsxs("div",{className:"ml-auto text-sm text-slate-500 flex items-center",children:[e.jsx(ns,{className:"mr-1"}),x.total," ",x.total===1?"theme":"themes"]})]}),R&&e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx(de,{className:"animate-spin text-violet-400",size:32}),e.jsx("span",{className:"ml-3 text-slate-400",children:"Loading themes..."})]}),!R&&e.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"flex flex-col gap-4",children:t.map(l=>e.jsxs("div",{className:`group bg-slate-800/50 rounded-xl border border-slate-700/50 overflow-hidden hover:border-violet-500/50 transition-all duration-300 ${j==="list"?"flex":""}`,onMouseEnter:()=>K(l.id),onMouseLeave:()=>K(null),children:[e.jsxs("div",{className:`relative overflow-hidden ${j==="list"?"w-48 flex-shrink-0":""}`,children:[e.jsx("img",{src:l.thumbnailUrl||"https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=800&h=600&fit=crop",alt:l.name,className:`w-full object-cover transition-transform duration-500 group-hover:scale-110 ${j==="list"?"h-full":"h-48"}`}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end justify-center pb-4 transition-opacity duration-300 ${ue===l.id?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(l),disabled:_===l.id,className:"px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-sm rounded-lg hover:from-violet-500 hover:to-purple-500 transition-all flex items-center gap-2 shadow-lg",children:_===l.id?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"animate-spin",size:14})," Installing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:14})," Install"]})}),l.demoUrl&&e.jsx("a",{href:l.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-white/20 backdrop-blur text-white text-sm rounded-lg hover:bg-white/30 transition-all flex items-center",children:e.jsx(xe,{size:14})})]})}),e.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[l.isFeatured&&e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-medium rounded-lg flex items-center gap-1",children:[e.jsx(Pe,{size:10})," Featured"]}),l.isPremium&&e.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-violet-500 to-purple-500 text-white text-xs font-medium rounded-lg",children:"â­ Premium"})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"px-2 py-1 bg-emerald-500/90 backdrop-blur text-white text-xs font-medium rounded-lg",children:l.price>0?`$${l.price}`:"Free"})})]}),e.jsxs("div",{className:`p-4 flex-1 ${j==="list"?"flex flex-col justify-between":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white group-hover:text-violet-400 transition-colors",children:l.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["by ",l.author]})]}),e.jsx("button",{className:"text-slate-500 hover:text-pink-400 transition-colors",children:e.jsx(os,{size:16})})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3 line-clamp-2",children:l.description}),l.features&&l.features.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[l.features.slice(0,3).map((i,o)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-700/50 text-slate-400 text-xs rounded-md",children:i},o)),l.features.length>3&&e.jsxs("span",{className:"px-2 py-0.5 bg-slate-700/50 text-slate-500 text-xs rounded-md",children:["+",l.features.length-3]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[T(l.rating),e.jsx("span",{className:"text-slate-400 ml-1",children:l.rating.toFixed(1)}),l.ratingCount>0&&e.jsxs("span",{className:"text-slate-600",children:["(",l.ratingCount,")"]})]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[l.downloads.toLocaleString()," installs"]})]}),e.jsxs("span",{className:"text-xs text-slate-600",children:["v",l.version]})]}),j==="list"&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:()=>Z(l),disabled:_===l.id,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-sm rounded-xl hover:from-violet-500 hover:to-purple-500 transition-all disabled:opacity-50",children:_===l.id?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"mr-2 animate-spin",size:14})," Installing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"mr-2",size:14})," Install Theme"]})}),l.demoUrl&&e.jsx("a",{href:l.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-700 text-slate-300 text-sm rounded-xl hover:bg-slate-600 transition-all flex items-center",children:e.jsx(ds,{size:14})})]})]})]},l.id))}),!R&&t.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No themes found"}),e.jsx("p",{className:"text-slate-400",children:U?`No themes match "${U}" in ${F==="all"?"all categories":F}`:"Be the first to submit a theme to the marketplace!"}),e.jsx("button",{onClick:()=>{re(""),O("all")},className:"mt-4 px-4 py-2 bg-slate-700 text-slate-300 rounded-xl hover:bg-slate-600 transition-all",children:"Clear Filters"})]}),!R&&x.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[e.jsx("button",{onClick:()=>A(l=>({...l,page:l.page-1})),disabled:x.page===1,className:"px-4 py-2 bg-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-slate-400 px-4",children:["Page ",x.page," of ",x.totalPages]}),e.jsx("button",{onClick:()=>A(l=>({...l,page:l.page+1})),disabled:x.page===x.totalPages,className:"px-4 py-2 bg-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-2 flex items-center gap-2",children:"ðŸ“¦ How to Install Themes"}),e.jsxs("ul",{className:"text-sm text-slate-400 space-y-1.5",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(S,{className:"text-emerald-400 mt-0.5 flex-shrink-0",size:14}),e.jsxs("span",{children:["Click ",e.jsx("strong",{className:"text-slate-300",children:"Install"})," on any theme to add it to your site"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(S,{className:"text-emerald-400 mt-0.5 flex-shrink-0",size:14}),e.jsx("span",{children:"Themes are downloaded and installed automatically"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(S,{className:"text-emerald-400 mt-0.5 flex-shrink-0",size:14}),e.jsx("span",{children:"Hover over any theme to see quick actions"})]})]})]}),e.jsxs("div",{className:"p-4 bg-violet-500/10 border border-violet-500/30 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-violet-400 mb-2 flex items-center gap-2",children:"ðŸš€ Submit Your Own Theme"}),e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Share your theme with the community! Click ",e.jsx("strong",{className:"text-emerald-400",children:"Submit Theme"})," to upload your theme ZIP file."]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Themes are reviewed by admins before being published to the marketplace."})]})]}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700/50 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700/50 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(W,{className:"text-emerald-400"}),"Submit Theme to Marketplace"]}),e.jsx("button",{onClick:()=>k(!1),className:"text-slate-400 hover:text-white",children:e.jsx(cs,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Theme ZIP File *"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-xl p-6 text-center hover:border-violet-500/50 transition-colors",children:[e.jsx("input",{type:"file",accept:".zip",onChange:l=>{var i;return B(((i=l.target.files)==null?void 0:i[0])||null)},className:"hidden",id:"theme-file"}),e.jsx("label",{htmlFor:"theme-file",className:"cursor-pointer",children:$?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400",children:[e.jsx(Te,{size:24}),e.jsx("span",{children:$.name})]}):e.jsxs("div",{className:"text-slate-400",children:[e.jsx(W,{size:32,className:"mx-auto mb-2"}),e.jsx("p",{children:"Click to select or drag & drop your theme ZIP"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Theme Thumbnail (optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-xl p-4 hover:border-violet-500/50 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:pe,className:"hidden",id:"theme-thumbnail"}),e.jsx("label",{htmlFor:"theme-thumbnail",className:"cursor-pointer flex items-center gap-4",children:te?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:te,alt:"Thumbnail preview",className:"w-24 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"text-emerald-400",children:[e.jsx("p",{className:"font-medium",children:D==null?void 0:D.name}),e.jsx("p",{className:"text-xs text-slate-500",children:"Click to change"})]})]}):e.jsxs("div",{className:"text-slate-400 flex items-center gap-3",children:[e.jsx("div",{className:"w-24 h-16 bg-slate-700/50 rounded-lg flex items-center justify-center",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{children:"Upload a preview image"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Recommended: 800x600px"})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Theme Name *"}),e.jsx("input",{type:"text",value:d.name,onChange:l=>m(i=>({...i,name:l.target.value})),placeholder:"My Awesome Theme",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),e.jsx("textarea",{value:d.description,onChange:l=>m(i=>({...i,description:l.target.value})),placeholder:"Describe your theme...",rows:3,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Version"}),e.jsx("input",{type:"text",value:d.version,onChange:l=>m(i=>({...i,version:l.target.value})),placeholder:"1.0.0",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),e.jsxs("select",{value:d.category,onChange:l=>m(i=>({...i,category:l.target.value})),className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500/50",children:[e.jsx("option",{value:"blog",children:"Blog"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"portfolio",children:"Portfolio"}),e.jsx("option",{value:"ecommerce",children:"E-Commerce"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:d.tags,onChange:l=>m(i=>({...i,tags:l.target.value})),placeholder:"modern, responsive, dark",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Features (comma-separated)"}),e.jsx("input",{type:"text",value:d.features,onChange:l=>m(i=>({...i,features:l.target.value})),placeholder:"SEO, Dark Mode, Fast",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Demo URL"}),e.jsx("input",{type:"url",value:d.demoUrl,onChange:l=>m(i=>({...i,demoUrl:l.target.value})),placeholder:"https://demo.example.com",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Repository URL"}),e.jsx("input",{type:"url",value:d.repositoryUrl,onChange:l=>m(i=>({...i,repositoryUrl:l.target.value})),placeholder:"https://github.com/user/theme",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/50"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-700/50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-6 py-2.5 bg-slate-700 text-slate-300 rounded-xl hover:bg-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:q||!$||!d.name.trim(),className:"px-6 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl font-medium hover:from-emerald-500 hover:to-teal-500 transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"animate-spin",size:16})," Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ms,{size:16})," Submit Theme"]})})]})]})})]})}const V={general:{title:"General Settings",content:"Configure your site name, description, and other basic settings."},themes:{title:"Themes",content:"Install, activate, and customize themes to change your site's appearance."},plugins:{title:"Plugins",content:"Extend your site's functionality with plugins."},email:{title:"Email Settings",content:"Configure SMTP settings for sending emails (password reset, notifications, etc.)."},domain:{title:"Domain Settings",content:"Configure your site URLs and domain-related settings."},payment:{title:"Payment Settings",content:"Configure Stripe API keys for accepting payments."}};function Ps(){const Y=es(),t=us(),[L,R]=a.useState([]),[J,U]=a.useState([]),[re,_]=a.useState(!0),[X,j]=a.useState(!1),[v,F]=a.useState("general"),[O,ue]=a.useState(!1),[K,Q]=a.useState(!1),[H,ee]=a.useState({isOpen:!1,themeId:null,themeName:null}),[k,q]=a.useState({isOpen:!1,pluginId:null,pluginName:null}),[C,$]=a.useState({siteName:"",siteDescription:""}),[B,D]=a.useState(null),[se,te]=a.useState(!1),E=a.useRef(null),d=a.useRef(null),[m,h]=a.useState({host:"",port:587,secure:!1,user:"",password:"",fromEmail:"",fromName:""}),[ie,x]=a.useState(!1),[A,I]=a.useState(!1),[z,he]=a.useState(""),[Z,pe]=a.useState(!1),[u,T]=a.useState({frontendUrl:"",adminUrl:"",supportEmail:"",siteName:"",siteLogo:"",siteTagline:""}),[l,i]=a.useState(!1),[o,N]=a.useState({publishableKey:"",secretKey:"",webhookSecret:"",isLiveMode:!1,isConfigured:!1,provider:"stripe"}),[p,ne]=a.useState({publishableKey:"",secretKey:"",webhookSecret:""}),[ye,we]=a.useState(!1),[Se,ke]=a.useState(!1),[ge,Re]=a.useState(!1),[be,_e]=a.useState(!1);a.useEffect(()=>{y()},[]);const y=async()=>{try{const[s,n,c,g,b,w]=await Promise.all([ae.getAll(),G.getAll(),ve.getAll(),P.getEmailConfig().catch(()=>({data:null})),P.getDomainConfig().catch(()=>({data:null})),P.getPaymentConfig().catch(()=>({data:null}))]);R(s.data),U(n.data);const f=c.data,le=f.find(je=>je.key==="site_name"),fe=f.find(je=>je.key==="site_description");$({siteName:(le==null?void 0:le.value)||"",siteDescription:(fe==null?void 0:fe.value)||""}),g.data&&h({host:g.data.host||"",port:g.data.port||587,secure:g.data.secure||!1,user:g.data.user||"",password:"",fromEmail:g.data.fromEmail||"",fromName:g.data.fromName||""}),b.data&&T({frontendUrl:b.data.frontendUrl||"",adminUrl:b.data.adminUrl||"",supportEmail:b.data.supportEmail||"",siteName:b.data.siteName||"",siteLogo:b.data.siteLogo||"",siteTagline:b.data.siteTagline||""}),w.data&&N(w.data)}catch{r.error("Failed to load settings")}finally{_(!1)}},Oe=async()=>{try{await Promise.all([ve.set("site_name",C.siteName,"string","general"),ve.set("site_description",C.siteDescription,"string","general")]),r.success("Settings saved successfully")}catch{r.error("Failed to save settings")}},Ke=async()=>{var s,n;x(!0);try{await P.saveEmailConfig(m),r.success("Email settings saved successfully")}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to save email settings")}finally{x(!1)}},He=async()=>{var s,n;if(!z){r.error("Please enter a test email address");return}I(!0);try{await P.testEmail(z),r.success(`Test email sent to ${z}`)}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to send test email")}finally{I(!1)}},qe=async()=>{var s,n;i(!0);try{await P.saveDomainConfig(u),r.success("Domain settings saved successfully")}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to save domain settings")}finally{i(!1)}},Be=async()=>{var s,n;if(!p.publishableKey&&!p.secretKey&&!p.webhookSecret){r.error("Please enter at least one API key to update");return}we(!0);try{await P.savePaymentConfig(p),r.success("Payment settings saved successfully"),ne({publishableKey:"",secretKey:"",webhookSecret:""});const c=await P.getPaymentConfig();c.data&&N(c.data)}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to save payment settings")}finally{we(!1)}},Ze=async()=>{var s,n;ke(!0);try{const c=await P.testPaymentConnection();r.success(c.data.message||"Stripe connection successful")}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to connect to Stripe")}finally{ke(!1)}},Ge=async s=>{try{await ae.activate(s),r.success("Theme activated successfully"),y()}catch{r.error("Failed to activate theme")}},Ce=async()=>{try{await ae.scan(),r.success("Themes scanned successfully"),y()}catch{r.error("Failed to scan themes")}},Ve=async s=>{var c,g,b;const n=(c=s.target.files)==null?void 0:c[0];if(n){if(!n.name.endsWith(".zip")){r.error("Please upload a ZIP file");return}j(!0);try{await ae.upload(n),r.success("Theme uploaded and installed successfully"),y(),E.current&&(E.current.value="")}catch(w){r.error(((b=(g=w.response)==null?void 0:g.data)==null?void 0:b.message)||"Failed to upload theme")}finally{j(!1)}}},We=async()=>{var s,n;if(H.themeId)try{await ae.delete(H.themeId),r.success("Theme deleted successfully"),ee({isOpen:!1,themeId:null,themeName:null}),y()}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to delete theme")}},Ye=async s=>{try{s.isActive?(await G.deactivate(s.id),r.success(`${s.name} deactivated`)):(await G.activate(s.id),r.success(`${s.name} activated`)),y()}catch{r.error("Failed to toggle plugin")}},Je=async()=>{try{await G.scan(),r.success("Plugins scanned successfully"),y()}catch{r.error("Failed to scan plugins")}},Xe=async s=>{var c,g,b;const n=(c=s.target.files)==null?void 0:c[0];if(n){if(!n.name.endsWith(".zip")){r.error("Please select a ZIP file");return}te(!0);try{const w=await G.upload(n);r.success(`Plugin "${w.data.name}" installed successfully!`),((g=w.data.warnings)==null?void 0:g.length)>0&&w.data.warnings.forEach(f=>r(f,{icon:"âš ï¸"})),y()}catch(w){const f=(b=w.response)==null?void 0:b.data;f!=null&&f.errors?f.errors.forEach(le=>r.error(le)):r.error((f==null?void 0:f.message)||"Failed to upload plugin")}finally{te(!1),d.current&&(d.current.value="")}}},Qe=async()=>{var s,n;if(k.pluginId)try{await G.delete(k.pluginId),r.success("Plugin deleted successfully"),q({isOpen:!1,pluginId:null,pluginName:null}),y()}catch(c){r.error(((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to delete plugin")}};return re?e.jsx(js,{}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${t.titleGradient}`,children:"Settings"}),e.jsx(ze,{title:"About Settings",content:"Configure your site's core settings, manage themes and plugins, and customize your site's behavior.",position:"right",variant:"help",children:e.jsx("button",{className:`p-1 ${t.icon} hover:text-blue-400`,children:e.jsx(hs,{size:18})})})]}),e.jsx("div",{className:`mb-6 border-b ${t.border}`,children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"general",label:"General",icon:null,tooltip:V.general},{id:"payment",label:"Payment",icon:Me,tooltip:V.payment},{id:"email",label:"Email",icon:Ue,tooltip:V.email},{id:"domain",label:"Domain",icon:De,tooltip:V.domain},{id:"themes",label:"Themes",icon:null,tooltip:V.themes},{id:"plugins",label:"Plugins",icon:null,tooltip:V.plugins}].map(s=>e.jsx(ze,{title:s.tooltip.title,content:s.tooltip.content,position:"bottom",children:e.jsxs("button",{onClick:()=>F(s.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 whitespace-nowrap ${v===s.id?"border-blue-500 text-blue-400":t.isDark?"border-transparent text-slate-400 hover:text-white hover:border-slate-500":"border-transparent text-slate-500 hover:text-slate-800 hover:border-slate-400"}`,children:[s.icon&&e.jsx(s.icon,{size:16}),s.label]})},s.id))})}),v==="general"&&e.jsxs("div",{className:`backdrop-blur rounded-xl border p-6 ${t.card}`,children:[e.jsx("h2",{className:`text-xl font-bold mb-6 ${t.textPrimary}`,children:"General Settings"}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Site Name"}),e.jsx("input",{type:"text",value:C.siteName,onChange:s=>$({...C,siteName:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"My NodePress Site"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Site Description"}),e.jsx("textarea",{value:C.siteDescription,onChange:s=>$({...C,siteDescription:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,rows:3,placeholder:"A brief description of your site"})]}),e.jsxs("button",{onClick:Oe,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all",children:[e.jsx(S,{className:"mr-2",size:18}),"Save Settings"]})]})]}),v==="themes"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${t.textPrimary}`,children:"Themes"}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs("button",{onClick:()=>Q(!K),className:`flex items-center px-4 py-2 border rounded-lg transition-all ${t.isDark?"border-slate-700/50 text-slate-400 hover:bg-slate-700/50 hover:text-white":"border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(ps,{className:"mr-2",size:18}),K?"Hide":"Browse"," Theme Shop"]}),e.jsxs("button",{onClick:()=>ue(!O),className:`flex items-center px-4 py-2 border rounded-lg transition-all ${t.isDark?"border-slate-700/50 text-slate-400 hover:bg-slate-700/50 hover:text-white":"border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(me,{className:"mr-2",size:18}),O?"Hide":"Show"," Requirements"]}),e.jsxs("button",{onClick:Ce,className:`flex items-center px-4 py-2 border rounded-lg transition-all ${t.isDark?"border-slate-700/50 text-slate-400 hover:bg-slate-700/50 hover:text-white":"border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(M,{className:"mr-2",size:18}),"Scan Themes"]}),e.jsxs("button",{onClick:()=>Y("/theme-designer"),className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-400 shadow-lg shadow-purple-500/20 transition-all",children:[e.jsx(gs,{className:"mr-2",size:18}),"Design Theme"]}),e.jsxs("button",{onClick:()=>Y("/theme-builder"),className:"flex items-center px-4 py-2 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white rounded-lg hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 transition-all",children:[e.jsx(bs,{className:"mr-2",size:18}),"Upload Theme"]}),e.jsxs("button",{onClick:()=>{var s;return(s=E.current)==null?void 0:s.click()},disabled:X,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50",children:[e.jsx(W,{className:"mr-2",size:18}),X?"Uploading...":"Quick Upload"]}),e.jsx("input",{ref:E,type:"file",accept:".zip",onChange:Ve,className:"hidden"})]})]}),K&&e.jsx("div",{className:"mb-6",children:e.jsx(Ns,{onThemeInstalled:y})}),O&&e.jsx("div",{className:"mb-6",children:e.jsx(vs,{})}),e.jsxs("h3",{className:`text-lg font-semibold mb-4 ${t.textPrimary}`,children:["Installed Themes (",L.length,")"]}),L.length===0?e.jsxs("div",{className:`backdrop-blur rounded-xl border p-8 text-center ${t.card}`,children:[e.jsx("p",{className:`mb-4 ${t.textMuted}`,children:'No themes found. Click "Scan Themes" to detect installed themes.'}),e.jsxs("button",{onClick:Ce,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 transition-all",children:[e.jsx(M,{className:"mr-2",size:18}),"Scan for Themes"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:L.map(s=>e.jsxs("div",{className:`backdrop-blur rounded-xl border overflow-hidden transition-all group ${t.card} ${t.isDark?"hover:border-slate-600/50":"hover:border-gray-400"}`,children:[s.thumbnail?e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-4xl font-bold",children:s.name.charAt(0)})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:`text-lg font-semibold mb-1 ${t.textPrimary}`,children:s.name}),e.jsxs("p",{className:`text-xs mb-2 ${t.textMuted}`,children:["by ",s.author]}),e.jsx("p",{className:`text-sm mb-4 ${t.textMuted}`,children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:`text-xs ${t.textMuted}`,children:["v",s.version]}),s.isActive?e.jsxs("span",{className:"flex items-center px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs font-semibold rounded-full",children:[e.jsx(S,{className:"mr-1",size:14}),"Active"]}):e.jsx("button",{onClick:()=>Ge(s.id),className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs font-semibold rounded-full hover:bg-blue-500/30 transition-all",children:"Activate"})]}),!s.isActive&&e.jsxs("button",{onClick:()=>ee({isOpen:!0,themeId:s.id,themeName:s.name}),className:"w-full flex items-center justify-center px-3 py-2 border border-red-500/30 text-red-400 text-sm rounded-lg hover:bg-red-500/10 transition-all",children:[e.jsx(Ee,{className:"mr-2",size:14}),"Delete Theme"]})]})]},s.id))})]}),v==="plugins"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${t.textPrimary}`,children:"Plugins"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"file",ref:d,onChange:Xe,accept:".zip",className:"hidden"}),e.jsxs("button",{onClick:()=>{var s;return(s=d.current)==null?void 0:s.click()},disabled:se,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50",children:[e.jsx(W,{className:"mr-2",size:18}),se?"Uploading...":"Upload Plugin"]}),e.jsxs("button",{onClick:Je,className:`flex items-center px-4 py-2 border rounded-lg transition-all ${t.isDark?"border-slate-700/50 text-slate-400 hover:bg-slate-700/50 hover:text-white":"border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(M,{className:"mr-2",size:18}),"Scan for Plugins"]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-blue-400 mb-2 flex items-center",children:[e.jsx(me,{className:"mr-2"})," Plugin Requirements"]}),e.jsxs("p",{className:"text-sm text-blue-300 mb-2",children:["Plugins must be ZIP files containing a ",e.jsx("code",{className:"bg-blue-500/20 px-1 rounded",children:"plugin.json"})," file with:"]}),e.jsxs("ul",{className:"text-sm text-blue-300 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"name"})," (required): Display name of the plugin"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"version"}),' (required): Version string (e.g., "1.0.0")']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"author"}),": Author name"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"description"}),": Brief description"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"entry"}),': Entry file (defaults to "index.js")']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-200",children:"hooks"}),': Array of lifecycle hooks (e.g., ["onActivate", "beforeSave", "registerRoutes"])']})]})]}),e.jsx("div",{className:`backdrop-blur rounded-xl border overflow-hidden ${t.card}`,children:J.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:`mb-4 ${t.textMuted}`,children:"No plugins found"}),e.jsxs("button",{onClick:()=>{var s;return(s=d.current)==null?void 0:s.click()},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 transition-all",children:[e.jsx(W,{className:"mr-2",size:18}),"Upload Your First Plugin"]})]}):e.jsx("div",{className:`divide-y ${t.border}`,children:J.map(s=>e.jsx("div",{className:`p-6 transition-colors ${t.isDark?"hover:bg-slate-700/30":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:`text-lg font-semibold ${t.textPrimary}`,children:s.name}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${t.isDark?"text-slate-400 bg-slate-700/50":"text-gray-500 bg-gray-200"}`,children:["v",s.version]}),s.isActive&&e.jsxs("span",{className:"flex items-center text-xs text-emerald-400 bg-emerald-500/20 px-2 py-1 rounded-full",children:[e.jsx(S,{className:"mr-1",size:12})," Active"]})]}),s.author&&e.jsxs("p",{className:`text-sm mt-1 ${t.textMuted}`,children:["by ",s.author]}),e.jsx("p",{className:`text-sm mt-2 ${t.textMuted}`,children:s.description}),e.jsxs("button",{onClick:()=>D(B===s.id?null:s.id),className:"text-sm text-blue-400 hover:text-blue-300 mt-2 flex items-center transition-colors",children:[e.jsx(me,{className:"mr-1",size:14}),B===s.id?"Hide Details":"Show Details"]}),B===s.id&&s.config&&e.jsxs("div",{className:`mt-3 p-3 rounded-lg text-sm border ${t.isDark?"bg-slate-900/50 border-slate-700/50":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${t.textMuted}`,children:"Entry File:"}),e.jsx("span",{className:`ml-2 ${t.textPrimary}`,children:s.config.entry||"index.js"})]}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${t.textMuted}`,children:"Path:"}),e.jsx("span",{className:`ml-2 ${t.textPrimary}`,children:s.path})]})]}),s.config.hooks&&s.config.hooks.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:`font-medium ${t.textMuted}`,children:"Hooks:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.config.hooks.map(n=>e.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:n},n))})]}),s.config.dependencies&&Object.keys(s.config.dependencies).length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:`font-medium ${t.textMuted}`,children:"Dependencies:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Object.entries(s.config.dependencies).map(([n,c])=>e.jsxs("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 text-xs rounded",children:[n,"@",c]},n))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>Ye(s),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${s.isActive?"bg-amber-500/20 text-amber-400 hover:bg-amber-500/30":"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30"}`,children:s.isActive?"Deactivate":"Activate"}),!s.isActive&&e.jsx("button",{onClick:()=>q({isOpen:!0,pluginId:s.id,pluginName:s.name}),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-all",title:"Delete Plugin",children:e.jsx(Ee,{size:18})})]})]})},s.id))})})]}),v==="email"&&e.jsxs("div",{className:`backdrop-blur rounded-xl border p-6 ${t.card}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ue,{className:"text-blue-400",size:24}),e.jsx("h2",{className:`text-xl font-bold ${t.textPrimary}`,children:"Email (SMTP) Settings"})]}),e.jsx("p",{className:`mb-6 ${t.textMuted}`,children:"Configure your SMTP server to enable email functionality (password reset, notifications, etc.)."}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"SMTP Host"}),e.jsx("input",{type:"text",value:m.host,onChange:s=>h({...m,host:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"SMTP Port"}),e.jsx("input",{type:"number",value:m.port,onChange:s=>h({...m,port:parseInt(s.target.value)||587}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"587"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"smtpSecure",checked:m.secure,onChange:s=>h({...m,secure:s.target.checked}),className:`w-4 h-4 rounded text-blue-500 focus:ring-blue-500/50 ${t.isDark?"border-slate-600 bg-slate-900":"border-gray-300 bg-white"}`}),e.jsx("label",{htmlFor:"smtpSecure",className:`text-sm ${t.textMuted}`,children:"Use SSL/TLS (check for port 465, uncheck for port 587 with STARTTLS)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"SMTP Username"}),e.jsx("input",{type:"text",value:m.user,onChange:s=>h({...m,user:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"your-email@gmail.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"SMTP Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Z?"text":"password",value:m.password,onChange:s=>h({...m,password:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 pr-10 ${t.input}`,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{type:"button",onClick:()=>pe(!Z),className:`absolute right-3 top-1/2 -translate-y-1/2 ${t.icon} ${t.iconHover}`,children:Z?e.jsx(Ne,{size:18}):e.jsx(xe,{size:18})})]}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"Leave blank to keep existing password"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"From Email"}),e.jsx("input",{type:"email",value:m.fromEmail,onChange:s=>h({...m,fromEmail:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"noreply@yoursite.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"From Name"}),e.jsx("input",{type:"text",value:m.fromName,onChange:s=>h({...m,fromName:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"My Site"})]})]}),e.jsxs("div",{className:`flex flex-wrap gap-4 pt-4 border-t ${t.border}`,children:[e.jsx("button",{onClick:Ke,disabled:ie,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50",children:ie?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 animate-spin",size:18}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2",size:18}),"Save Email Settings"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"email",value:z,onChange:s=>he(s.target.value),className:`px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"test@example.com"}),e.jsx("button",{onClick:He,disabled:A||!z,className:"flex items-center px-4 py-2.5 border border-emerald-500/50 text-emerald-400 rounded-lg hover:bg-emerald-500/10 transition-all disabled:opacity-50",children:A?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 animate-spin",size:18}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fs,{className:"mr-2",size:18}),"Send Test Email"]})})]})]})]})]}),v==="domain"&&e.jsxs("div",{className:`backdrop-blur rounded-xl border p-6 ${t.card}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(De,{className:"text-purple-400",size:24}),e.jsx("h2",{className:`text-xl font-bold ${t.textPrimary}`,children:"Domain Settings"})]}),e.jsx("p",{className:`mb-6 ${t.textMuted}`,children:"Configure your site URLs and domain-related settings. These are used in emails and other system communications."}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Frontend URL"}),e.jsx("input",{type:"url",value:u.frontendUrl,onChange:s=>T({...u,frontendUrl:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"https://yoursite.com"}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"The public URL of your website (used in password reset links, etc.)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Admin Panel URL"}),e.jsx("input",{type:"url",value:u.adminUrl,onChange:s=>T({...u,adminUrl:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"https://yoursite.com/admin"}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"The URL of your admin panel"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Site Name"}),e.jsx("input",{type:"text",value:u.siteName,onChange:s=>T({...u,siteName:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"NodePress"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Support Email"}),e.jsx("input",{type:"email",value:u.supportEmail,onChange:s=>T({...u,supportEmail:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"support@nodepress.co.uk"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Site Tagline"}),e.jsx("input",{type:"text",value:u.siteTagline||"",onChange:s=>T({...u,siteTagline:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"Modern Content Management System"}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"A short tagline that appears in emails and branding"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Site Logo URL"}),e.jsx("input",{type:"url",value:u.siteLogo||"",onChange:s=>T({...u,siteLogo:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${t.input}`,placeholder:"https://nodepress.co.uk/logo.png"}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"Logo image URL for email headers (leave empty for text-only)"})]}),e.jsx("button",{onClick:qe,disabled:l,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-500 hover:to-purple-400 shadow-lg shadow-purple-500/20 transition-all disabled:opacity-50",children:l?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 animate-spin",size:18}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2",size:18}),"Save Domain Settings"]})})]})]}),v==="payment"&&e.jsxs("div",{className:`backdrop-blur rounded-xl border p-6 ${t.card}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{className:"text-emerald-400",size:24}),e.jsx("h2",{className:`text-xl font-bold ${t.textPrimary}`,children:"Payment Settings (Stripe)"})]}),o.isConfigured&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${o.isLiveMode?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:[e.jsx(Ae,{size:14}),o.isLiveMode?"LIVE MODE":"TEST MODE"]})]}),e.jsxs("div",{className:`p-4 rounded-lg mb-6 ${o.isConfigured?"bg-emerald-500/10 border border-emerald-500/30":"bg-amber-500/10 border border-amber-500/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{size:16,className:o.isConfigured?"text-emerald-400":"text-amber-400"}),e.jsx("span",{className:`font-medium ${o.isConfigured?"text-emerald-400":"text-amber-400"}`,children:o.isConfigured?"Stripe is configured":"Stripe is not configured"})]}),o.isConfigured&&e.jsxs("div",{className:`text-sm space-y-1 ${t.textMuted}`,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Publishable Key:"})," ",o.publishableKey||"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Secret Key:"})," ",o.secretKey||"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Webhook Secret:"})," ",o.webhookSecret||"Not set"]})]})]}),e.jsxs("p",{className:`mb-6 ${t.textMuted}`,children:["Enter your Stripe API keys below. Get your keys from the"," ",e.jsx("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Stripe Dashboard"}),"."]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Publishable Key"}),e.jsx("input",{type:"text",value:p.publishableKey,onChange:s=>ne({...p,publishableKey:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 font-mono text-sm ${t.input}`,placeholder:"pk_test_... or pk_live_..."}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"Starts with pk_test_ (test mode) or pk_live_ (live mode)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Secret Key"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:ge?"text":"password",value:p.secretKey,onChange:s=>ne({...p,secretKey:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 font-mono text-sm pr-10 ${t.input}`,placeholder:"sk_test_... or sk_live_..."}),e.jsx("button",{type:"button",onClick:()=>Re(!ge),className:`absolute right-3 top-1/2 -translate-y-1/2 ${t.icon} ${t.iconHover}`,children:ge?e.jsx(Ne,{size:18}):e.jsx(xe,{size:18})})]}),e.jsx("p",{className:`text-xs mt-1 ${t.textMuted}`,children:"Starts with sk_test_ (test mode) or sk_live_ (live mode)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t.textMuted}`,children:"Webhook Secret"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:be?"text":"password",value:p.webhookSecret,onChange:s=>ne({...p,webhookSecret:s.target.value}),className:`w-full px-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 font-mono text-sm pr-10 ${t.input}`,placeholder:"whsec_..."}),e.jsx("button",{type:"button",onClick:()=>_e(!be),className:`absolute right-3 top-1/2 -translate-y-1/2 ${t.icon} ${t.iconHover}`,children:be?e.jsx(Ne,{size:18}):e.jsx(xe,{size:18})})]}),e.jsxs("p",{className:`text-xs mt-1 ${t.textMuted}`,children:["Get this from"," ",e.jsx("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Stripe Webhooks"})," ","after creating a webhook endpoint"]})]}),e.jsxs("div",{className:`flex flex-wrap gap-4 pt-4 border-t ${t.border}`,children:[e.jsx("button",{onClick:Be,disabled:ye,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white rounded-lg hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 transition-all disabled:opacity-50",children:ye?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 animate-spin",size:18}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2",size:18}),"Save Payment Settings"]})}),o.isConfigured&&e.jsx("button",{onClick:Ze,disabled:Se,className:"flex items-center px-4 py-2.5 border border-blue-500/50 text-blue-400 rounded-lg hover:bg-blue-500/10 transition-all disabled:opacity-50",children:Se?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 animate-spin",size:18}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"mr-2",size:18}),"Test Connection"]})})]})]})]}),e.jsx(Ie,{isOpen:H.isOpen,title:"Delete Theme",message:`Are you sure you want to delete "${H.themeName}"? This action cannot be undone and will permanently remove all theme files.`,onConfirm:We,onCancel:()=>ee({isOpen:!1,themeId:null,themeName:null})}),e.jsx(Ie,{isOpen:k.isOpen,title:"Delete Plugin",message:`Are you sure you want to delete "${k.pluginName}"? This action cannot be undone and will permanently remove all plugin files.`,onConfirm:Qe,onCancel:()=>q({isOpen:!1,pluginId:null,pluginName:null})})]})}export{Ps as default};

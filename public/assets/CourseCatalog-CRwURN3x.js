import{r as l,j as e,L as A}from"./vendor-react-D2QycniR.js";import{ce as j}from"./index-JNkgy8O1.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function F(){const[c,v]=l.useState([]),[N,f]=l.useState([]),[y,x]=l.useState(!0),[m,u]=l.useState(null),[r,p]=l.useState(1),[i,E]=l.useState(1),[t,d]=l.useState({category:"",level:"",priceType:""});l.useEffect(()=>{g()},[r,t]);const g=async()=>{var s,a,n,h,b;try{x(!0),u(null);const[o,C]=await Promise.all([j.getCourses({page:r,limit:12,...t}),j.getCategories()]);v(((s=o.data)==null?void 0:s.courses)||[]),E(((n=(a=o.data)==null?void 0:a.pagination)==null?void 0:n.pages)||1),f(C.data||[])}catch(o){console.error("Failed to load courses:",o),u(((b=(h=o.response)==null?void 0:h.data)==null?void 0:b.message)||"Failed to load courses. Please try again.")}finally{x(!1)}},w=s=>{const a={BEGINNER:"bg-green-500/20 text-green-400",INTERMEDIATE:"bg-yellow-500/20 text-yellow-400",ADVANCED:"bg-red-500/20 text-red-400",ALL_LEVELS:"bg-blue-500/20 text-blue-400"};return e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a[s]||"bg-slate-700"}`,children:s.replace("_"," ")})};return e.jsxs("div",{className:"min-h-screen bg-slate-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8 md:py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 md:mb-4",children:"Course Catalog"}),e.jsx("p",{className:"text-base md:text-xl opacity-90",children:"Expand your skills with our expert-led courses"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 md:py-8",children:[m&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-red-400",children:m}),e.jsx("button",{onClick:g,className:"mt-2 text-red-400 hover:text-red-300 underline transition-colors",children:"Try Again"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsxs("select",{value:t.category,onChange:s=>d({...t,category:s.target.value}),className:"bg-slate-800/50 border border-slate-700/50 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Categories"}),N.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:t.level,onChange:s=>d({...t,level:s.target.value}),className:"bg-slate-800/50 border border-slate-700/50 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Levels"}),e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]}),e.jsxs("select",{value:t.priceType,onChange:s=>d({...t,priceType:s.target.value}),className:"bg-slate-800/50 border border-slate-700/50 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[e.jsx("option",{value:"",children:"All Prices"}),e.jsx("option",{value:"FREE",children:"Free"}),e.jsx("option",{value:"PAID",children:"Paid"})]})]}),y?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-700 border-t-blue-500 mx-auto"})}):c.length===0?e.jsx("div",{className:"text-center py-12 text-slate-400",children:"No courses found"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>{var a;return e.jsxs(A,{to:`/lms/course/${s.slug}`,className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 overflow-hidden hover:border-slate-600/50 transition-all hover:scale-[1.02]",children:[e.jsx("img",{src:s.featuredImage||"/api/lms/courses/placeholder-image",alt:s.title,className:"w-full h-48 object-cover",onError:n=>{n.target.src="/api/lms/courses/placeholder-image"}}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w(s.level),s.category&&e.jsx("span",{className:"text-xs text-slate-400",children:s.category})]}),e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2 text-white",children:s.title}),e.jsx("p",{className:"text-slate-400 text-sm mb-4 line-clamp-2",children:s.shortDescription||s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-slate-500",children:[((a=s._count)==null?void 0:a.lessons)||0," lessons"]}),e.jsx("div",{className:"font-bold text-lg",children:s.priceType==="PAID"?e.jsxs("span",{className:"text-white",children:["$",Number(s.priceAmount||0).toFixed(2)]}):e.jsx("span",{className:"text-green-400",children:"Free"})})]})]})]},s.id)})}),i>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 mt-6 md:mt-8",children:[e.jsx("button",{onClick:()=>p(s=>Math.max(1,s-1)),disabled:r===1,className:"w-full sm:w-auto px-4 py-2.5 border border-slate-700/50 rounded-xl text-slate-300 disabled:opacity-50 hover:bg-slate-800/50 transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-slate-400 text-sm md:text-base",children:["Page ",r," of ",i]}),e.jsx("button",{onClick:()=>p(s=>Math.min(i,s+1)),disabled:r===i,className:"w-full sm:w-auto px-4 py-2.5 border border-slate-700/50 rounded-xl text-slate-300 disabled:opacity-50 hover:bg-slate-800/50 transition-colors",children:"Next"})]})]})]})]})}export{F as default};

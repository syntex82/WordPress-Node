import{r as d,j as e,i as dt,E as xt,a as ht,L as mt}from"./vendor-react-D2QycniR.js";import{v as Q,a1 as ut,V as D,bq as gt,T as I,c as Me,aS as Ne,aT as we,aU as Se,aV as Ee,b3 as Be,A as pt,q as bt,w as de,aX as X,br as yt,b5 as Ae,I as jt,j as ft,P as He,a_ as ce,B as vt,y as Re,b4 as Oe,bs as We,af as De,X as ke,U as Ue,z as T,ar as Nt,aN as wt,aO as St,aa as kt,bj as E,a8 as U,a7 as Ce,M as Ct,g as Fe,h as Ft,aQ as zt,f as Tt,bt as Pt,i as $t,aZ as It,bn as Lt,ay as ze}from"./index-Bpp1ZX0C.js";import{i as Mt,a as Et,b as Bt,T as At,C as Ht,c as Rt}from"./vendor-editor-Cn7QR8gj.js";import{I as Ot,C as Wt,L as Dt}from"./LinkManagementPanel-CQQKiLwQ.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";import"./sortable.esm-D0ycpRxo.js";function Ut({step:o,currentStepIndex:s,totalSteps:r,onNext:t,onSkip:n,onComplete:i}){const[g,c]=d.useState({top:0,left:0}),[y,p]=d.useState(!1),m=d.useRef(null);d.useEffect(()=>{if(setTimeout(()=>p(!0),50),!o.targetSelector){c({top:window.innerHeight/2-100,left:window.innerWidth/2-175});return}const j=document.querySelector(o.targetSelector);if(!j){c({top:window.innerHeight/2-100,left:window.innerWidth/2-175});return}const x=j.getBoundingClientRect(),w=350,F=200,f=16;let v=0,b=0;switch(o.placement){case"top":v=x.top-F-f,b=x.left+x.width/2-w/2;break;case"bottom":v=x.bottom+f,b=x.left+x.width/2-w/2;break;case"left":v=x.top+x.height/2-F/2,b=x.left-w-f;break;case"right":v=x.top+x.height/2-F/2,b=x.right+f;break;default:v=x.bottom+f,b=x.left+x.width/2-w/2}return b<f&&(b=f),b+w>window.innerWidth-f&&(b=window.innerWidth-w-f),v<f&&(v=f),v+F>window.innerHeight-f&&(v=window.innerHeight-F-f),c({top:v,left:b}),j.classList.add("onboarding-highlight"),()=>{j.classList.remove("onboarding-highlight")}},[o]);const u=o.id==="complete",l=(s+1)/r*100;return e.jsxs("div",{ref:m,className:`fixed z-[9999] w-[350px] bg-slate-800 border border-slate-600/50 rounded-xl shadow-2xl transition-all duration-300 ${y?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{top:g.top,left:g.left},children:[e.jsx("div",{className:"h-1 bg-slate-700 rounded-t-xl overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${l}%`}})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:o.title}),e.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-white transition-colors",title:"Skip tour",children:e.jsx(Q,{size:18})})]}),e.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:o.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:["Step ",s+1," of ",r]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:n,className:"px-3 py-1.5 text-sm text-slate-400 hover:text-white transition-colors flex items-center gap-1",children:[e.jsx(ut,{size:14}),"Skip"]}),e.jsx("button",{onClick:u&&i?i:t,className:"px-4 py-1.5 text-sm bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:opacity-90 transition-opacity flex items-center gap-1",children:u?e.jsxs(e.Fragment,{children:[e.jsx(D,{size:14}),"Finish"]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(gt,{size:14})]})})]})]})]})]})}const q=[{id:"welcome",title:"ðŸ‘‹ Welcome to Theme Customization",description:"Let's walk you through customizing your theme. We'll start with the basics and work our way up.",placement:"bottom",nextStep:"choose-colors"},{id:"choose-colors",title:"ðŸŽ¨ Step 1: Choose Your Colors",description:'Start by selecting your brand colors. Click on "Colors" in the sidebar to customize your color palette.',targetSelector:'[data-panel="colors"]',placement:"right",action:"click",nextStep:"set-typography"},{id:"set-typography",title:"âœï¸ Step 2: Set Typography",description:"Choose fonts that match your brand. Select heading and body fonts, sizes, and weights.",targetSelector:'[data-panel="typography"]',placement:"right",action:"click",nextStep:"configure-header"},{id:"configure-header",title:"ðŸ“Œ Step 3: Configure Header",description:"Set up your site header with logo, navigation style, and layout options.",targetSelector:'[data-panel="header"]',placement:"right",action:"click",nextStep:"add-content"},{id:"add-content",title:"ðŸ“ Step 4: Add Content",description:`Now let's add images and content blocks. Click "Manage Content" to go to the Content Manager.`,targetSelector:'[data-action="manage-content"]',placement:"bottom",action:"navigate",nextStep:"upload-images"},{id:"upload-images",title:"ðŸ–¼ï¸ Step 5: Upload Images",description:"Add your logo, hero images, and backgrounds. Drag and drop to reorder them.",targetSelector:'[data-tab="images"]',placement:"right",action:"click",nextStep:"create-blocks"},{id:"create-blocks",title:"ðŸ§± Step 6: Create Content Blocks",description:"Build your page with content blocks like heroes, features, and testimonials.",targetSelector:'[data-tab="blocks"]',placement:"right",action:"click",nextStep:"add-links"},{id:"add-links",title:"ðŸ”— Step 7: Add Navigation Links",description:"Set up your navigation menu and social media links.",targetSelector:'[data-tab="links"]',placement:"right",action:"click",nextStep:"preview-publish"},{id:"preview-publish",title:"ðŸš€ Step 8: Preview & Publish",description:"Preview your changes on different devices, then publish to make them live!",targetSelector:'[data-action="publish"]',placement:"left",action:"click",nextStep:"complete"},{id:"complete",title:"ðŸŽ‰ All Done!",description:"Congratulations! Your theme is customized. You can always come back to make changes.",placement:"bottom"}];d.createContext(null);const Te={primary:"Main brand color used for buttons, links, and key interactive elements.",secondary:"Complementary color for secondary buttons, badges, and accents.",accent:"Highlight color for special elements, call-to-actions, and emphasis.",background:"Main page background color. Usually light for light themes, dark for dark themes.",surface:"Card and container background color. Slightly different from background for depth.",border:"Border color for cards, inputs, and dividers.",heading:"Color for all headings (h1-h6). Usually darker or bolder than body text.",text:"Main body text color. Should have good contrast with background.",textMuted:"Color for secondary text, captions, and less important content.",link:"Default color for clickable links.",linkHover:"Link color when user hovers over it.",success:"Color indicating success states, confirmations, and positive actions.",warning:"Color for warnings and actions that need attention.",error:"Color for errors, destructive actions, and critical alerts."};function P({label:o,value:s,onChange:r,tooltipKey:t}){return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("label",{className:"text-sm text-gray-300",children:o}),t&&Te[t]&&e.jsx(I,{content:Te[t],position:"right",variant:"help",children:e.jsx(Me,{size:12,className:"text-gray-500 hover:text-violet-400 cursor-help"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:s,onChange:n=>r(n.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),e.jsx("input",{type:"text",value:s,onChange:n=>r(n.target.value),className:"w-20 px-2 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200"})]})]})}function _t({settings:o,onChange:s}){const r=o.colors;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Brand Colors"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{label:"Primary",value:r.primary,onChange:t=>s("colors.primary",t),tooltipKey:"primary"}),e.jsx(P,{label:"Secondary",value:r.secondary,onChange:t=>s("colors.secondary",t),tooltipKey:"secondary"}),e.jsx(P,{label:"Accent",value:r.accent,onChange:t=>s("colors.accent",t),tooltipKey:"accent"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Background"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{label:"Background",value:r.background,onChange:t=>s("colors.background",t),tooltipKey:"background"}),e.jsx(P,{label:"Surface",value:r.surface,onChange:t=>s("colors.surface",t),tooltipKey:"surface"}),e.jsx(P,{label:"Border",value:r.border,onChange:t=>s("colors.border",t),tooltipKey:"border"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Text"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{label:"Heading",value:r.heading,onChange:t=>s("colors.heading",t),tooltipKey:"heading"}),e.jsx(P,{label:"Body Text",value:r.text,onChange:t=>s("colors.text",t),tooltipKey:"text"}),e.jsx(P,{label:"Muted Text",value:r.textMuted,onChange:t=>s("colors.textMuted",t),tooltipKey:"textMuted"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Links"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{label:"Link Color",value:r.link,onChange:t=>s("colors.link",t),tooltipKey:"link"}),e.jsx(P,{label:"Link Hover",value:r.linkHover,onChange:t=>s("colors.linkHover",t),tooltipKey:"linkHover"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Status Colors"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{label:"Success",value:r.success||"#10B981",onChange:t=>s("colors.success",t),tooltipKey:"success"}),e.jsx(P,{label:"Warning",value:r.warning||"#F59E0B",onChange:t=>s("colors.warning",t),tooltipKey:"warning"}),e.jsx(P,{label:"Error",value:r.error||"#EF4444",onChange:t=>s("colors.error",t),tooltipKey:"error"})]})]})]})}const Pe=["Inter","Roboto","Open Sans","Lato","Poppins","Montserrat","Raleway","Playfair Display","Merriweather","Source Sans Pro","Nunito","Work Sans","DM Sans","Outfit","Manrope"];function Jt({settings:o,onChange:s}){const{typography:r}=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Font Families"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Heading Font"}),e.jsx("select",{value:r.headingFont,onChange:t=>s("typography.headingFont",t.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:Pe.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Body Font"}),e.jsx("select",{value:r.bodyFont,onChange:t=>s("typography.bodyFont",t.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:Pe.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Base Typography"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Base Font Size: ",r.baseFontSize,"px"]}),e.jsx("input",{type:"range",min:"12",max:"24",value:r.baseFontSize,onChange:t=>s("typography.baseFontSize",parseInt(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Line Height: ",r.lineHeight]}),e.jsx("input",{type:"range",min:"1",max:"2.5",step:"0.1",value:r.lineHeight,onChange:t=>s("typography.lineHeight",parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Heading Weight"}),e.jsxs("select",{value:r.headingWeight,onChange:t=>s("typography.headingWeight",parseInt(t.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:400,children:"Regular (400)"}),e.jsx("option",{value:500,children:"Medium (500)"}),e.jsx("option",{value:600,children:"Semibold (600)"}),e.jsx("option",{value:700,children:"Bold (700)"}),e.jsx("option",{value:800,children:"Extra Bold (800)"}),e.jsx("option",{value:900,children:"Black (900)"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Heading Sizes"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(t=>{const n=`h${t}Size`,i=48-(t-1)*6;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["H",t,": ",r[n]||i,"px"]}),e.jsx("input",{type:"range",min:"12",max:"72",value:r[n]||i,onChange:g=>s(`typography.h${t}Size`,parseInt(g.target.value)),className:"w-full"})]},t)})})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Preview"}),e.jsx("div",{style:{fontFamily:`${r.headingFont}, sans-serif`,fontWeight:r.headingWeight},children:e.jsx("div",{className:"text-2xl text-white mb-1",children:"Heading Text"})}),e.jsx("div",{style:{fontFamily:`${r.bodyFont}, sans-serif`,fontSize:r.baseFontSize,lineHeight:r.lineHeight},children:e.jsx("p",{className:"text-gray-300",children:"This is sample body text showing the selected typography settings."})})]})]})}function Kt({settings:o,onChange:s}){const{layout:r}=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Header Style"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["default","centered","minimal","sticky"].map(t=>e.jsx("button",{onClick:()=>s("layout.headerStyle",t),className:`p-3 rounded-lg border-2 transition-colors ${r.headerStyle===t?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-white capitalize",children:t}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[t==="default"&&"Logo left, nav right",t==="centered"&&"Centered layout",t==="minimal"&&"Clean & simple",t==="sticky"&&"Fixed on scroll"]})]})},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Logo & Site Title"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Logo URL"}),e.jsx("input",{type:"text",placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use site title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Site Title Display"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"show",children:"Show site title"}),e.jsx("option",{value:"hide",children:"Hide site title (logo only)"}),e.jsx("option",{value:"both",children:"Show both logo and title"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Navigation"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Navigation Menu"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"header",children:"Header Menu"}),e.jsx("option",{value:"primary",children:"Primary Menu"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Manage menus in ",e.jsx("a",{href:"/admin/menus",className:"text-blue-400 hover:underline",children:"Menu Manager"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show search icon"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-700 border-gray-600",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show user account"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-700 border-gray-600",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show cart icon (Shop)"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-700 border-gray-600",defaultChecked:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Header Colors"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Background"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",defaultValue:"#FFFFFF",className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),e.jsxs("select",{className:"px-2 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-white",children:[e.jsx("option",{value:"solid",children:"Solid"}),e.jsx("option",{value:"transparent",children:"Transparent"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Text Color"}),e.jsx("input",{type:"color",defaultValue:"#1F2937",className:"w-8 h-8 rounded cursor-pointer border border-gray-600"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Preview"}),e.jsxs("div",{className:`bg-white rounded p-3 ${r.headerStyle==="centered"?"text-center":"flex justify-between items-center"}`,children:[e.jsx("div",{className:"font-bold text-gray-900",children:"Site Logo"}),r.headerStyle!=="centered"&&e.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[e.jsx("span",{children:"Home"}),e.jsx("span",{children:"About"}),e.jsx("span",{children:"Contact"})]}),r.headerStyle==="centered"&&e.jsxs("div",{className:"flex justify-center gap-4 text-sm text-gray-600 mt-2",children:[e.jsx("span",{children:"Home"}),e.jsx("span",{children:"About"}),e.jsx("span",{children:"Contact"})]})]})]})]})}function Vt({value:o,onChange:s,placeholder:r="Enter text...",className:t="",minHeight:n="80px",variant:i="compact",allowHtml:g=!0,label:c}){const[y,p]=d.useState(!1),[m,u]=d.useState(""),[l,j]=d.useState(!1),x=dt({extensions:[Mt.configure({heading:i==="full"?{levels:[1,2,3,4]}:!1}),Et,Bt.configure({openOnClick:!1}),At,Ht,Rt.configure({placeholder:r})],content:o,onUpdate:({editor:S})=>{const k=S.getHTML();s(g?k:S.getText())},editorProps:{attributes:{class:"prose prose-sm prose-invert focus:outline-none w-full",style:`min-height: ${n}`}}});d.useEffect(()=>{x&&o!==x.getHTML()&&x.commands.setContent(o)},[o,x]);const w=d.useCallback(()=>{m&&x&&(x.chain().focus().setLink({href:m}).run(),j(!1),u(""))},[x,m]),F=d.useCallback(()=>{x==null||x.chain().focus().unsetLink().run()},[x]),f=["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],[v,b]=d.useState(!1);if(!x)return null;const N=S=>`p-1.5 rounded transition-colors ${S?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`;return e.jsxs("div",{className:`relative ${t}`,children:[c&&e.jsx("label",{className:"block text-sm text-gray-300 mb-1.5",children:c}),v&&e.jsxs("div",{className:"absolute -top-10 left-0 z-20 flex items-center gap-0.5 p-1 bg-gray-800 rounded-lg shadow-xl border border-gray-700",children:[e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleBold().run(),className:N(x.isActive("bold")),title:"Bold",children:e.jsx(Ne,{size:14})}),e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleItalic().run(),className:N(x.isActive("italic")),title:"Italic",children:e.jsx(we,{size:14})}),e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleUnderline().run(),className:N(x.isActive("underline")),title:"Underline",children:e.jsx(Se,{size:14})}),e.jsx("div",{className:"w-px h-4 bg-gray-600 mx-1"}),e.jsx("button",{type:"button",onClick:()=>j(!l),className:N(x.isActive("link")),title:"Link",children:e.jsx(Ee,{size:14})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>p(!y),className:N(!1),title:"Color",children:e.jsx(Be,{size:14})}),y&&e.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-gray-800 rounded-lg shadow-xl border border-gray-700 flex gap-1 z-10",children:f.map(S=>e.jsx("button",{type:"button",onClick:()=>{x.chain().focus().setColor(S).run(),p(!1)},className:"w-5 h-5 rounded-full border border-gray-600 hover:scale-110 transition-transform",style:{backgroundColor:S}},S))})]})]}),l&&e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 p-2 bg-gray-800 rounded-lg shadow-xl border border-gray-700 flex gap-2",children:[e.jsx("input",{type:"url",value:m,onChange:S=>u(S.target.value),placeholder:"Enter URL...",className:"flex-1 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm text-white",onKeyDown:S=>S.key==="Enter"&&w(),autoFocus:!0}),e.jsx("button",{type:"button",onClick:w,className:"p-1.5 bg-green-600 rounded text-white hover:bg-green-500",children:e.jsx(D,{size:14})}),e.jsx("button",{type:"button",onClick:F,className:"p-1.5 bg-red-600 rounded text-white hover:bg-red-500",children:e.jsx(Q,{size:14})})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all",onFocus:()=>b(!0),onBlur:S=>{S.currentTarget.contains(S.relatedTarget)||setTimeout(()=>b(!1),200)},children:[i==="full"&&e.jsxs("div",{className:"flex items-center gap-0.5 p-1.5 border-b border-gray-600 bg-gray-800/50",children:[e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleBold().run(),className:N(x.isActive("bold")),children:e.jsx(Ne,{size:14})}),e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleItalic().run(),className:N(x.isActive("italic")),children:e.jsx(we,{size:14})}),e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleUnderline().run(),className:N(x.isActive("underline")),children:e.jsx(Se,{size:14})}),e.jsx("div",{className:"w-px h-4 bg-gray-600 mx-1"}),e.jsx("button",{type:"button",onClick:()=>x.chain().focus().toggleBulletList().run(),className:N(x.isActive("bulletList")),children:e.jsx(pt,{size:14})})]}),e.jsx(xt,{editor:x,className:"px-3 py-2"})]})]})}function Gt({settings:o,onChange:s}){const{layout:r}=o,[t,n]=d.useState("Â© {year} NodePress. All rights reserved.");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Footer Style"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["default","centered","minimal"].map(i=>e.jsx("button",{onClick:()=>s("layout.footerStyle",i),className:`p-3 rounded-lg border-2 transition-colors ${r.footerStyle===i?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm text-white capitalize",children:i})})},i))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Copyright Text"}),e.jsx(Vt,{value:t,onChange:i=>{n(i),s("footer.copyrightText",i)},placeholder:"Enter copyright text...",minHeight:"60px",variant:"compact"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{year}"," for dynamic year. Select text to format."]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Footer Menu"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"footer",children:"Footer Menu"}),e.jsx("option",{value:"secondary",children:"Secondary Menu"}),e.jsx("option",{value:"none",children:"No Menu"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Social Links"}),e.jsx("div",{className:"space-y-3",children:["Facebook","Twitter","Instagram","LinkedIn","YouTube"].map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-300 w-20",children:i}),e.jsx("input",{type:"text",placeholder:`https://${i.toLowerCase()}.com/...`,className:"flex-1 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-500"})]},i))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Widget Areas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Number of Columns"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"2",children:"2 Columns"}),e.jsx("option",{value:"3",children:"3 Columns"}),e.jsx("option",{value:"4",children:"4 Columns"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show widget area"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-700 border-gray-600",defaultChecked:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Footer Colors"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Background"}),e.jsx("input",{type:"color",defaultValue:"#1F2937",className:"w-8 h-8 rounded cursor-pointer border border-gray-600"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Text Color"}),e.jsx("input",{type:"color",defaultValue:"#9CA3AF",className:"w-8 h-8 rounded cursor-pointer border border-gray-600"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Link Color"}),e.jsx("input",{type:"color",defaultValue:"#60A5FA",className:"w-8 h-8 rounded cursor-pointer border border-gray-600"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Preview"}),e.jsxs("div",{className:`bg-gray-900 rounded p-4 ${r.footerStyle==="centered"?"text-center":""}`,children:[r.footerStyle!=="minimal"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-xs text-gray-400",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-1",children:"Company"}),e.jsx("div",{children:"About"}),e.jsx("div",{children:"Contact"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-1",children:"Support"}),e.jsx("div",{children:"FAQ"}),e.jsx("div",{children:"Help"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-300 mb-1",children:"Legal"}),e.jsx("div",{children:"Privacy"}),e.jsx("div",{children:"Terms"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 border-t border-gray-700 pt-3",children:"Â© 2024 Your Company. All rights reserved."})]})]})]})}function Yt({settings:o,onChange:s}){const{layout:r,spacing:t,borders:n}=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Content Width"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Max Width: ",r.contentWidth,"px"]}),e.jsx("input",{type:"range",min:"800",max:"1600",step:"50",value:r.contentWidth,onChange:i=>s("layout.contentWidth",parseInt(i.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Narrow (800px)"}),e.jsx("span",{children:"Wide (1600px)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Sidebar Position"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","none","right"].map(i=>e.jsx("button",{onClick:()=>s("layout.sidebarPosition",i),className:`p-3 rounded-lg border-2 transition-colors ${r.sidebarPosition===i?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm text-white capitalize",children:i==="none"?"No Sidebar":`${i} Sidebar`})})},i))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Spacing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Section Padding: ",t.sectionPadding,"px"]}),e.jsx("input",{type:"range",min:"16",max:"96",step:"8",value:t.sectionPadding,onChange:i=>s("spacing.sectionPadding",parseInt(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Element Spacing: ",t.elementSpacing,"px"]}),e.jsx("input",{type:"range",min:"8",max:"48",step:"4",value:t.elementSpacing,onChange:i=>s("spacing.elementSpacing",parseInt(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Container Padding: ",t.containerPadding,"px"]}),e.jsx("input",{type:"range",min:"8",max:"48",step:"4",value:t.containerPadding,onChange:i=>s("spacing.containerPadding",parseInt(i.target.value)),className:"w-full"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Borders"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Border Radius: ",n.radius,"px"]}),e.jsx("input",{type:"range",min:"0",max:"24",value:n.radius,onChange:i=>s("borders.radius",parseInt(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Border Width: ",n.width,"px"]}),e.jsx("input",{type:"range",min:"0",max:"4",value:n.width,onChange:i=>s("borders.width",parseInt(i.target.value)),className:"w-full"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Layout Preview"}),e.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[e.jsx("div",{className:"bg-gray-600 rounded h-4 mb-2"}),e.jsxs("div",{className:"flex gap-2",children:[r.sidebarPosition==="left"&&e.jsx("div",{className:"w-1/4 bg-gray-600 rounded h-20"}),e.jsx("div",{className:"flex-1 bg-gray-500 rounded h-20"}),r.sidebarPosition==="right"&&e.jsx("div",{className:"w-1/4 bg-gray-600 rounded h-20"})]}),e.jsx("div",{className:"bg-gray-600 rounded h-4 mt-2"})]})]})]})}function Zt({settings:o,onChange:s}){var F,f,v;const[r,t]=d.useState([]),[n,i]=d.useState(!0),[g,c]=d.useState(((F=o.homepage)==null?void 0:F.type)||"posts"),[y,p]=d.useState(((f=o.homepage)==null?void 0:f.pageId)||""),[m,u]=d.useState(((v=o.homepage)==null?void 0:v.blogPageId)||"");d.useEffect(()=>{l()},[]);const l=async()=>{var b,N;try{const S=await bt.getAll({limit:100}),k=((b=S.data)==null?void 0:b.data)||((N=S.data)==null?void 0:N.pages)||S.data||[];t(Array.isArray(k)?k:[])}catch(S){console.error("Error loading pages:",S),t([])}finally{i(!1)}},j=b=>{c(b),s("homepage.type",b)},x=b=>{p(b),s("homepage.pageId",b)},w=b=>{u(b),s("homepage.blogPageId",b)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Homepage Display"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:[e.jsx("input",{type:"radio",name:"homepage",checked:g==="posts",onChange:()=>j("posts"),className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Latest Posts"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Show your latest blog posts"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:[e.jsx("input",{type:"radio",name:"homepage",checked:g==="static",onChange:()=>j("static"),className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Static Page"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Select a page as your homepage"})]})]})]})]}),g==="static"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Select Homepage"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",disabled:n,value:y,onChange:b=>x(b.target.value),children:[e.jsx("option",{value:"",children:"-- Select a page --"}),r.map(b=>e.jsx("option",{value:b.id,children:b.title},b.id))]}),n&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading pages..."}),!n&&r.length===0&&e.jsx("p",{className:"text-xs text-amber-400 mt-1",children:"No pages found. Create a page first."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Blog Page"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",disabled:n,value:m,onChange:b=>w(b.target.value),children:[e.jsx("option",{value:"",children:"-- Select blog page --"}),r.map(b=>e.jsx("option",{value:b.id,children:b.title},b.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where your blog posts will be displayed"}),!n&&r.length===0&&e.jsx("p",{className:"text-xs text-amber-400 mt-1",children:"No pages found. Create a page first."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Featured Sections"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Hero Section"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Large banner at the top"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-600 border-gray-500",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Featured Posts"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Highlight selected posts"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-600 border-gray-500",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Featured Products"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Shop products showcase"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-600 border-gray-500",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Featured Courses"}),e.jsx("div",{className:"text-xs text-gray-400",children:"LMS courses showcase"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-600 border-gray-500",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white",children:"Newsletter Signup"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Email subscription form"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded bg-gray-600 border-gray-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Posts Per Page"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"6",children:"6 posts"}),e.jsx("option",{value:"9",children:"9 posts"}),e.jsx("option",{value:"12",selected:!0,children:"12 posts"}),e.jsx("option",{value:"15",children:"15 posts"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"/admin/pages/new",className:"block text-sm text-blue-400 hover:underline",children:"+ Create a new page"}),e.jsx("a",{href:"/admin/posts/new",className:"block text-sm text-blue-400 hover:underline",children:"+ Create a new post"}),e.jsx("a",{href:"/admin/theme-designer",className:"block text-sm text-blue-400 hover:underline",children:"â†’ Open Theme Designer"})]})]})]})}function qt(o){const s=document.createElement("div");return s.textContent=o,s.innerHTML}function Qt(o){return qt(o).replace(/(\/\*[\s\S]*?\*\/)/g,'<span class="text-gray-500">$1</span>').replace(/([.#]?[\w-]+)(\s*{)/g,'<span class="text-cyan-400">$1</span>$2').replace(/([\w-]+)(\s*:)/g,'<span class="text-purple-400">$1</span>$2').replace(/:\s*([^;{}]+)(;|$)/g,': <span class="text-green-400">$1</span>$2').replace(/([{}])/g,'<span class="text-yellow-400">$1</span>')}function Xt({value:o,onChange:s}){const[r,t]=d.useState(!1),[n,i]=d.useState(!1),g=d.useRef(null),c=d.useRef(null),y=()=>{g.current&&c.current&&(c.current.scrollTop=g.current.scrollTop,c.current.scrollLeft=g.current.scrollLeft)},p=()=>{navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[e.jsx(de,{size:16}),"Custom CSS"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:p,className:"p-1.5 text-gray-400 hover:text-white rounded transition-colors",title:"Copy CSS",children:n?e.jsx(D,{size:14,className:"text-green-400"}):e.jsx(X,{size:14})}),e.jsx("button",{onClick:()=>t(!r),className:"p-1.5 text-gray-400 hover:text-white rounded transition-colors",title:r?"Minimize":"Expand",children:r?e.jsx(yt,{size:14}):e.jsx(Ae,{size:14})})]})]}),e.jsxs("div",{className:`relative bg-gray-900 rounded-lg border border-gray-700 overflow-hidden transition-all ${r?"h-96":"h-48"}`,children:[e.jsx("div",{ref:c,className:"absolute inset-0 p-3 font-mono text-sm leading-relaxed overflow-auto pointer-events-none whitespace-pre-wrap break-words",style:{color:"transparent"},dangerouslySetInnerHTML:{__html:Qt(o||"")+`
`}}),e.jsx("textarea",{ref:g,value:o||"",onChange:m=>s(m.target.value),onScroll:y,className:"absolute inset-0 w-full h-full p-3 font-mono text-sm leading-relaxed bg-transparent text-gray-200 resize-none focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:`/* Add your custom CSS here */

.custom-class {
  color: #3B82F6;
}`,spellCheck:!1})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Add custom styles to override theme defaults. Changes apply in real-time."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Quick Templates:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Hide Header",css:".site-header { display: none; }"},{label:"Round Images",css:"img { border-radius: 50%; }"},{label:"Bold Links",css:"a { font-weight: 700; }"}].map(m=>e.jsxs("button",{onClick:()=>s(o?o+`

`+m.css:m.css),className:"px-2 py-1 text-xs bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:["+ ",m.label]},m.label))})]})]})}const es=[{id:"default",name:"Default Blue",colors:{primary:"#3B82F6",secondary:"#8B5CF6",accent:"#F59E0B",background:"#FFFFFF",surface:"#F9FAFB",text:"#1F2937",textMuted:"#6B7280",heading:"#111827",link:"#3B82F6",linkHover:"#2563EB",border:"#E5E7EB"}},{id:"dark",name:"Dark Mode",colors:{primary:"#60A5FA",secondary:"#A78BFA",accent:"#FBBF24",background:"#111827",surface:"#1F2937",text:"#F9FAFB",textMuted:"#9CA3AF",heading:"#FFFFFF",link:"#60A5FA",linkHover:"#93C5FD",border:"#374151"}},{id:"nature",name:"Nature Green",colors:{primary:"#10B981",secondary:"#14B8A6",accent:"#F59E0B",background:"#FFFFFF",surface:"#ECFDF5",text:"#1F2937",textMuted:"#6B7280",heading:"#064E3B",link:"#10B981",linkHover:"#059669",border:"#D1FAE5"}},{id:"sunset",name:"Sunset Orange",colors:{primary:"#F97316",secondary:"#EF4444",accent:"#FBBF24",background:"#FFFBEB",surface:"#FEF3C7",text:"#1F2937",textMuted:"#78716C",heading:"#7C2D12",link:"#EA580C",linkHover:"#C2410C",border:"#FED7AA"}}];function ts(o){const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}function ss(o,s,r){o/=255,s/=255,r/=255;const t=Math.max(o,s,r),n=Math.min(o,s,r);let i=0,g=0;const c=(t+n)/2;if(t!==n){const y=t-n;switch(g=c>.5?y/(2-t-n):y/(t+n),t){case o:i=((s-r)/y+(s<r?6:0))/6;break;case s:i=((r-o)/y+2)/6;break;case r:i=((o-s)/y+4)/6;break}}return{h:Math.round(i*360),s:Math.round(g*100),l:Math.round(c*100)}}function L({label:o,value:s,onChange:r}){const[t,n]=d.useState("hex"),[i,g]=d.useState(!1),c=ts(s),y=c?ss(c.r,c.g,c.b):null,p=()=>{let m=s;t==="rgb"&&c&&(m=`rgb(${c.r}, ${c.g}, ${c.b})`),t==="hsl"&&y&&(m=`hsl(${y.h}, ${y.s}%, ${y.l}%)`),navigator.clipboard.writeText(m),g(!0),setTimeout(()=>g(!1),1500)};return e.jsxs("div",{className:"flex items-center justify-between py-2 group",children:[e.jsx("label",{className:"text-sm text-gray-300",children:o}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:s,onChange:m=>r(m.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:t,onChange:m=>n(m.target.value),className:"w-14 px-1 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-300",children:[e.jsx("option",{value:"hex",children:"HEX"}),e.jsx("option",{value:"rgb",children:"RGB"}),e.jsx("option",{value:"hsl",children:"HSL"})]})}),e.jsx("input",{type:"text",value:t==="hex"?s:t==="rgb"&&c?`${c.r},${c.g},${c.b}`:y?`${y.h},${y.s},${y.l}`:s,onChange:m=>{t==="hex"&&r(m.target.value)},className:"w-24 px-2 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200",readOnly:t!=="hex"}),e.jsx("button",{onClick:p,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-white transition-all",children:i?e.jsx(D,{size:12,className:"text-green-400"}):e.jsx(X,{size:12})})]})]})}function as({settings:o,onChange:s,onApplyPalette:r}){const[t,n]=d.useState(()=>{const l=localStorage.getItem("theme-customizer-palettes");return l?JSON.parse(l):[]}),[i,g]=d.useState(!1),[c,y]=d.useState(""),p=o.colors,m=()=>{if(!c.trim())return;const l={id:Date.now().toString(),name:c,colors:{...p}},j=[...t,l];n(j),localStorage.setItem("theme-customizer-palettes",JSON.stringify(j)),y(""),g(!1)},u=l=>{const j=t.filter(x=>x.id!==l);n(j),localStorage.setItem("theme-customizer-palettes",JSON.stringify(j))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Color Presets"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:es.map(l=>e.jsxs("button",{onClick:()=>r(l.colors),className:"p-2 rounded-lg border border-gray-600 hover:border-blue-500 transition-colors text-left",children:[e.jsx("div",{className:"flex gap-1 mb-1",children:[l.colors.primary,l.colors.secondary,l.colors.accent,l.colors.background].map((j,x)=>e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:j,border:j==="#FFFFFF"?"1px solid #374151":"none"}},x))}),e.jsx("span",{className:"text-xs text-gray-300",children:l.name})]},l.id))})]}),t.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Saved Palettes"}),e.jsx("div",{className:"space-y-2",children:t.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-700",children:[e.jsxs("button",{onClick:()=>r(l.colors),className:"flex items-center gap-2 flex-1 text-left",children:[e.jsx("div",{className:"flex gap-1",children:[l.colors.primary,l.colors.secondary,l.colors.accent].map((j,x)=>e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:j}},x))}),e.jsx("span",{className:"text-sm text-gray-300",children:l.name})]}),e.jsx("button",{onClick:()=>u(l.id),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx(jt,{size:14})})]},l.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Brand Colors"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{label:"Primary",value:p.primary,onChange:l=>s("colors.primary",l)}),e.jsx(L,{label:"Secondary",value:p.secondary,onChange:l=>s("colors.secondary",l)}),e.jsx(L,{label:"Accent",value:p.accent,onChange:l=>s("colors.accent",l)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Background"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{label:"Background",value:p.background,onChange:l=>s("colors.background",l)}),e.jsx(L,{label:"Surface",value:p.surface,onChange:l=>s("colors.surface",l)}),e.jsx(L,{label:"Border",value:p.border,onChange:l=>s("colors.border",l)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Text"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{label:"Heading",value:p.heading,onChange:l=>s("colors.heading",l)}),e.jsx(L,{label:"Body Text",value:p.text,onChange:l=>s("colors.text",l)}),e.jsx(L,{label:"Muted Text",value:p.textMuted,onChange:l=>s("colors.textMuted",l)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Links"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{label:"Link Color",value:p.link,onChange:l=>s("colors.link",l)}),e.jsx(L,{label:"Link Hover",value:p.linkHover,onChange:l=>s("colors.linkHover",l)})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-700",children:i?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c,onChange:l=>y(l.target.value),placeholder:"Palette name...",className:"flex-1 px-3 py-2 text-sm bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-500",autoFocus:!0}),e.jsx("button",{onClick:m,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(He,{size:16})})]}):e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 w-full px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:[e.jsx(ft,{size:16})," Save Current as Palette"]})})]})}const $e={"Sans-Serif":["Inter","Roboto","Open Sans","Lato","Poppins","Montserrat","Nunito","Work Sans","DM Sans","Outfit","Manrope","Source Sans Pro","Raleway","Ubuntu","Rubik","Noto Sans","Quicksand","Mulish","Karla","Lexend"],Serif:["Playfair Display","Merriweather","Lora","Libre Baskerville","EB Garamond","Crimson Text","PT Serif","Noto Serif","Source Serif Pro","Bitter"],Display:["Oswald","Bebas Neue","Anton","Archivo Black","Righteous","Alfa Slab One","Permanent Marker","Pacifico","Lobster","Dancing Script"],Monospace:["JetBrains Mono","Fira Code","Source Code Pro","IBM Plex Mono","Roboto Mono","Space Mono","Ubuntu Mono"]},Ie=[{value:100,label:"Thin"},{value:200,label:"Extra Light"},{value:300,label:"Light"},{value:400,label:"Regular"},{value:500,label:"Medium"},{value:600,label:"Semibold"},{value:700,label:"Bold"},{value:800,label:"Extra Bold"},{value:900,label:"Black"}];function Le({label:o,value:s,onChange:r,onLoadFont:t}){const[n,i]=d.useState(""),[g,c]=d.useState(!1),y=Object.entries($e).flatMap(([u,l])=>l.map(j=>({font:j,category:u}))),p=n?y.filter(u=>u.font.toLowerCase().includes(n.toLowerCase())):y,m=u=>{r(u),t(u),c(!1),i("")};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm text-gray-300",children:o}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!g),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-left flex items-center justify-between hover:border-gray-500",children:[e.jsx("span",{style:{fontFamily:`"${s}", sans-serif`},children:s}),e.jsx(ce,{size:16,className:"text-gray-400"})]}),g&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl max-h-64 overflow-hidden",children:[e.jsx("div",{className:"p-2 border-b border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(vt,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),e.jsx("input",{type:"text",value:n,onChange:u=>i(u.target.value),placeholder:"Search fonts...",className:"w-full pl-8 pr-3 py-2 text-sm bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-500",autoFocus:!0})]})}),e.jsx("div",{className:"overflow-y-auto max-h-48",children:Object.entries($e).map(([u])=>{const l=p.filter(j=>j.category===u);return l.length===0?null:e.jsxs("div",{children:[e.jsx("div",{className:"px-3 py-1 text-xs text-gray-500 bg-gray-750 sticky top-0",children:u}),l.map(({font:j})=>e.jsxs("button",{onClick:()=>m(j),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-700 flex items-center justify-between ${s===j?"bg-gray-700 text-blue-400":"text-gray-300"}`,style:{fontFamily:`"${j}", sans-serif`},children:[j,s===j&&e.jsx(D,{size:14})]},j))]},u)})})]})]})]})}function rs({settings:o,onChange:s,onLoadFont:r}){const{typography:t}=o;return d.useEffect(()=>{r(t.headingFont),r(t.bodyFont)},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Font Families"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Le,{label:"Heading Font",value:t.headingFont,onChange:n=>s("typography.headingFont",n),onLoadFont:r}),e.jsx(Le,{label:"Body Font",value:t.bodyFont,onChange:n=>s("typography.bodyFont",n),onLoadFont:r})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Font Weights"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Heading Weight"}),e.jsx("select",{value:t.headingWeight,onChange:n=>s("typography.headingWeight",parseInt(n.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:Ie.map(n=>e.jsxs("option",{value:n.value,children:[n.label," (",n.value,")"]},n.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Body Weight"}),e.jsx("select",{value:t.bodyWeight||400,onChange:n=>s("typography.bodyWeight",parseInt(n.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:Ie.map(n=>e.jsxs("option",{value:n.value,children:[n.label," (",n.value,")"]},n.value))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Size & Spacing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Base Font Size: ",t.baseFontSize,"px"]}),e.jsx("input",{type:"range",min:"12",max:"24",value:t.baseFontSize,onChange:n=>s("typography.baseFontSize",parseInt(n.target.value)),className:"w-full accent-blue-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"12px"}),e.jsx("span",{children:"24px"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Line Height: ",t.lineHeight]}),e.jsx("input",{type:"range",min:"1",max:"2.5",step:"0.1",value:t.lineHeight,onChange:n=>s("typography.lineHeight",parseFloat(n.target.value)),className:"w-full accent-blue-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Tight (1)"}),e.jsx("span",{children:"Loose (2.5)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Letter Spacing: ",t.letterSpacing||0,"em"]}),e.jsx("input",{type:"range",min:"-0.05",max:"0.2",step:"0.01",value:t.letterSpacing||0,onChange:n=>s("typography.letterSpacing",parseFloat(n.target.value)),className:"w-full accent-blue-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Tight"}),e.jsx("span",{children:"Wide"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Heading Sizes"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(n=>{const i=`h${n}Size`,g=48-(n-1)*6,c=t[i]||g;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["H",n,": ",c,"px"]}),e.jsx("input",{type:"range",min:"12",max:"72",value:c,onChange:y=>s(`typography.h${n}Size`,parseInt(y.target.value)),className:"w-full accent-blue-500"})]},n)})})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-3",children:"Preview"}),e.jsx("div",{style:{fontFamily:`"${t.headingFont}", sans-serif`,fontWeight:t.headingWeight},children:e.jsx("div",{className:"text-2xl text-white mb-2",style:{letterSpacing:`${t.letterSpacing||0}em`},children:"Heading Text"})}),e.jsx("div",{style:{fontFamily:`"${t.bodyFont}", sans-serif`,fontSize:t.baseFontSize,lineHeight:t.lineHeight,letterSpacing:`${t.letterSpacing||0}em`},children:e.jsx("p",{className:"text-gray-300",children:"This is sample body text showing the selected typography settings. The quick brown fox jumps over the lazy dog."})})]})]})}function _({label:o,value:s,onChange:r,min:t=0,max:n=100,step:i=4,unit:g="px"}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"text-sm text-gray-300",children:o}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s,g]})]}),e.jsx("input",{type:"range",min:t,max:n,step:i,value:s,onChange:c=>r(parseInt(c.target.value)),className:"w-full accent-blue-500"})]})}function ns({label:o,values:s,onChange:r}){const[t,n]=d.useState(!0),i=(g,c)=>{r(t?{top:c,right:c,bottom:c,left:c}:{...s,[g]:c})};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-300",children:o}),e.jsx("button",{onClick:()=>n(!t),className:`p-1.5 rounded transition-colors ${t?"bg-blue-500/20 text-blue-400":"text-gray-500 hover:text-gray-300"}`,title:t?"Linked (all sides equal)":"Unlinked (individual sides)",children:e.jsx(Ee,{size:14})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["top","right","bottom","left"].map(g=>e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 capitalize block text-center mb-1",children:g[0].toUpperCase()}),e.jsx("input",{type:"number",min:0,max:200,value:s[g],onChange:c=>i(g,parseInt(c.target.value)||0),className:"w-full px-2 py-1.5 text-sm text-center bg-gray-700 border border-gray-600 rounded text-white"})]},g))}),e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx("div",{className:"relative bg-blue-500/20 rounded flex items-center justify-center text-xs text-gray-400",style:{padding:`${Math.min(s.top,20)}px ${Math.min(s.right,20)}px ${Math.min(s.bottom,20)}px ${Math.min(s.left,20)}px`},children:e.jsx("div",{className:"bg-gray-600 rounded px-4 py-2",children:"Content"})})})]})}function is({settings:o,onChange:s}){const{layout:r,spacing:t,borders:n}=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[e.jsx(Re,{size:16})," Layout"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(_,{label:"Content Width",value:r.contentWidth,onChange:i=>s("layout.contentWidth",i),min:800,max:1600,step:50}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Sidebar Position"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","none","right"].map(i=>e.jsxs("button",{onClick:()=>s("layout.sidebarPosition",i),className:`p-3 rounded-lg border-2 transition-colors ${r.sidebarPosition===i?"border-blue-500 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex gap-1 h-8 items-center justify-center",children:[i==="left"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-6 bg-gray-500 rounded"}),e.jsx("div",{className:"w-6 h-6 bg-gray-400 rounded"})]}),i==="none"&&e.jsx("div",{className:"w-10 h-6 bg-gray-400 rounded"}),i==="right"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-6 h-6 bg-gray-400 rounded"}),e.jsx("div",{className:"w-3 h-6 bg-gray-500 rounded"})]})]}),e.jsx("div",{className:"text-xs text-white capitalize mt-1",children:i==="none"?"No Sidebar":i})]},i))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[e.jsx(Oe,{size:16})," Spacing"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(_,{label:"Section Padding",value:t.sectionPadding,onChange:i=>s("spacing.sectionPadding",i),min:16,max:96,step:8}),e.jsx(_,{label:"Element Spacing",value:t.elementSpacing,onChange:i=>s("spacing.elementSpacing",i),min:8,max:48,step:4}),e.jsx(_,{label:"Container Padding",value:t.containerPadding,onChange:i=>s("spacing.containerPadding",i),min:8,max:48,step:4})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Borders"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(_,{label:"Border Radius",value:n.radius,onChange:i=>s("borders.radius",i),min:0,max:32,step:2}),e.jsx(_,{label:"Border Width",value:n.width,onChange:i=>s("borders.width",i),min:0,max:8,step:1})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Advanced Spacing (Coming Soon)"}),e.jsx("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:e.jsx(ns,{label:"Content Margin",values:t.contentMargin||{top:0,right:0,bottom:0,left:0},onChange:i=>s("spacing.contentMargin",i)})})]}),e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Layout Preview"}),e.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[e.jsx("div",{className:"bg-gray-600 rounded h-4 mb-2",style:{borderRadius:n.radius}}),e.jsxs("div",{className:"flex gap-2",style:{padding:`${Math.min(t.containerPadding,16)}px`},children:[r.sidebarPosition==="left"&&e.jsx("div",{className:"w-1/4 bg-gray-600 rounded h-20",style:{borderRadius:n.radius}}),e.jsx("div",{className:"flex-1 bg-gray-500 rounded h-20",style:{borderRadius:n.radius}}),r.sidebarPosition==="right"&&e.jsx("div",{className:"w-1/4 bg-gray-600 rounded h-20",style:{borderRadius:n.radius}})]}),e.jsx("div",{className:"bg-gray-600 rounded h-4 mt-2",style:{borderRadius:n.radius}})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Content width: ",r.contentWidth,"px | Radius: ",n.radius,"px"]})]})]})}function ls({isEnabled:o,onToggle:s,selectedElement:r,onGenerateCSS:t}){const[n,i]=d.useState(null),g=(p,m)=>{navigator.clipboard.writeText(m),i(p),setTimeout(()=>i(null),1500)},c=()=>{if(!r)return"";let p=r.tagName;if(r.id)p=`#${r.id}`;else if(r.className){const m=r.className.split(" ")[0];m&&(p=`.${m}`)}return p},y=()=>r?`${c()} {
  /* Add your styles here */
  color: ${r.styles.color};
  background-color: ${r.styles.backgroundColor};
  font-size: ${r.styles.fontSize};
}`:"";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[e.jsx(We,{size:16}),"Element Inspector"]}),e.jsx("button",{onClick:()=>s(!o),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${o?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:o?"Inspecting...":"Enable"})]}),o&&!r&&e.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-400",children:"Click on any element in the preview to inspect it."}),e.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:"Elements will be highlighted as you hover over them."})]}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("code",{className:"text-sm text-cyan-400",children:["<",r.tagName,r.id&&e.jsxs("span",{className:"text-purple-400",children:["#",r.id]}),r.className&&e.jsxs("span",{className:"text-green-400",children:[".",r.className.split(" ")[0]]}),">"]}),e.jsx("button",{onClick:()=>s(!1),className:"p-1 text-gray-400 hover:text-white",children:e.jsx(Q,{size:14})})]}),r.text&&e.jsxs("p",{className:"text-xs text-gray-400 truncate",children:['"',r.text,'"']})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-400 uppercase mb-2",children:"Computed Styles"}),e.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(r.styles).map(([p,m])=>e.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-700/50 rounded group",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:p.replace(/([A-Z])/g,"-$1").toLowerCase()}),e.jsxs("div",{className:"flex items-center gap-2",children:[(p==="color"||p==="backgroundColor")&&m!=="rgba(0, 0, 0, 0)"&&e.jsx("div",{className:"w-4 h-4 rounded border border-gray-500",style:{backgroundColor:m}}),e.jsx("span",{className:"text-gray-200 text-xs font-mono",children:m}),e.jsx("button",{onClick:()=>g(p,m),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-white transition-opacity",children:n===p?e.jsx(D,{size:12,className:"text-green-400"}):e.jsx(X,{size:12})})]})]},p))})]}),e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("button",{onClick:()=>t(y()),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:[e.jsx(de,{size:14}),"Add CSS Rule for Element"]})})]})]})}function os({settings:o,customCSS:s,themeName:r,onImport:t}){const n=d.useRef(null),[i,g]=d.useState(!1),[c,y]=d.useState(null),p=()=>({version:"1.0",exportedAt:new Date().toISOString(),themeName:r||"Custom Theme",settings:o,customCSS:s||void 0}),m=()=>{const x=p(),w=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),F=URL.createObjectURL(w),f=document.createElement("a");f.href=F,f.download=`theme-settings-${Date.now()}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(F),T.success("Settings exported successfully")},u=()=>{const x=p();navigator.clipboard.writeText(JSON.stringify(x,null,2)),g(!0),setTimeout(()=>g(!1),2e3),T.success("Settings copied to clipboard")},l=x=>{var f;const w=(f=x.target.files)==null?void 0:f[0];if(!w)return;y(null);const F=new FileReader;F.onload=v=>{var b;try{const N=JSON.parse((b=v.target)==null?void 0:b.result);if(!N.settings||!N.settings.colors||!N.settings.typography)throw new Error("Invalid theme settings file");t(N.settings,N.customCSS),T.success(`Imported settings from "${N.themeName}"`)}catch(N){y(N.message||"Failed to parse settings file"),T.error("Failed to import settings")}},F.readAsText(w),n.current&&(n.current.value="")},j=async()=>{try{const x=await navigator.clipboard.readText(),w=JSON.parse(x);if(!w.settings||!w.settings.colors||!w.settings.typography)throw new Error("Invalid theme settings in clipboard");t(w.settings,w.customCSS),T.success("Imported settings from clipboard")}catch(x){y(x.message||"Failed to parse clipboard content"),T.error("Failed to import from clipboard")}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-white",children:"Import / Export Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Export your current theme settings to reuse later or share with others."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:[e.jsx(De,{size:16}),"Download JSON"]}),e.jsx("button",{onClick:u,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",title:"Copy to clipboard",children:i?e.jsx(D,{size:16,className:"text-green-400"}):e.jsx(X,{size:16})})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Import theme settings from a JSON file or clipboard."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"file",ref:n,onChange:l,accept:".json",className:"hidden"}),e.jsxs("button",{onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:[e.jsx(ke,{size:16}),"Import File"]}),e.jsx("button",{onClick:j,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",title:"Paste from clipboard",children:e.jsx(ke,{size:16})})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsx(Ue,{className:"text-red-400",size:14}),e.jsx("span",{className:"text-xs text-red-400",children:c})]})]})]})}const _e=[{id:"full",label:"Full Width",icon:e.jsx(Ae,{size:18}),width:"100%"},{id:"desktop",label:"Desktop",icon:e.jsx(Nt,{size:18}),width:1280},{id:"tablet",label:"Tablet",icon:e.jsx(wt,{size:18}),width:768},{id:"mobile",label:"Mobile",icon:e.jsx(St,{size:18}),width:375}];function cs({currentViewport:o,onViewportChange:s}){return e.jsx("div",{className:"flex items-center gap-1 bg-gray-800 rounded-lg p-1",children:_e.map(r=>e.jsxs("button",{onClick:()=>s(r.id),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${o===r.id?"bg-gray-700 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,title:r.label,children:[r.icon,e.jsx("span",{className:"text-sm hidden lg:inline",children:r.label})]},r.id))})}function ds(o){const s=_e.find(r=>r.id===o);return(s==null?void 0:s.width)||"100%"}const xs=50;function hs(o){const[s,r]=d.useState({past:[],present:o,future:[]}),t=d.useRef(null),n=d.useRef(null),i=d.useRef(null),g=d.useCallback((m,u)=>{n.current&&clearTimeout(n.current),i.current=m,t.current=u||"Change",n.current=setTimeout(()=>{r(l=>{const j=i.current||m;if(JSON.stringify(l.present)===JSON.stringify(j))return l;const x=[...l.past,l.present];return x.length>xs&&x.shift(),{past:x,present:j,future:[]}}),i.current=null},300),r(l=>({...l,present:m}))},[]),c=d.useCallback(()=>{r(m=>{if(m.past.length===0)return m;const u=[...m.past],l=u.pop();return t.current="Undo",{past:u,present:l,future:[m.present,...m.future]}})},[]),y=d.useCallback(()=>{r(m=>{if(m.future.length===0)return m;const u=[...m.future],l=u.shift();return t.current="Redo",{past:[...m.past,m.present],present:l,future:u}})},[]),p=d.useCallback(m=>{r({past:[],present:m,future:[]}),t.current=null},[]);return{state:s.present,setState:g,undo:c,redo:y,canUndo:s.past.length>0,canRedo:s.future.length>0,history:{past:s.past.length,future:s.future.length},lastAction:t.current,reset:p}}const C={colors:{title:"ðŸŽ¨ Colors",content:"Customize your site's color scheme. Set primary, secondary, background, text, and accent colors."},typography:{title:"âœï¸ Typography",content:"Choose fonts and text styles. Set heading and body fonts, sizes, and line heights."},header:{title:"ðŸ“Œ Header",content:"Configure your site header. Choose layout, logo position, navigation style, and sticky behavior."},footer:{title:"ðŸ¦¶ Footer",content:"Design your site footer. Add widgets, copyright text, and social links."},layout:{title:"ðŸ“ Layout",content:"Control page structure. Set content width, sidebar position, and container styles."},homepage:{title:"ðŸ  Homepage",content:"Customize your homepage layout. Choose hero style, featured sections, and content blocks."},palette:{title:"ðŸŽ­ Color Palette",content:"Create and manage color palettes. Save presets and apply them with one click."},advTypography:{title:"ðŸ“ Advanced Typography",content:"Fine-tune typography settings. Control letter spacing, text transforms, and font weights."},spacing:{title:"ðŸ“ Spacing & Layout",content:"Adjust spacing and margins. Control section padding, element gaps, and container sizes."},css:{title:"ðŸ’» Custom CSS",content:"Add your own CSS code. Override any style with custom rules."},inspector:{title:"ðŸ” Element Inspector",content:"Click any element on the preview to inspect its styles. Generate CSS rules automatically."},importExport:{title:"ðŸ“¦ Import / Export",content:"Backup your settings or transfer to another site. Export as JSON file."},images:{title:"ðŸ–¼ï¸ Media Library",content:"Upload and manage images like logos, backgrounds, and banners. Drag to reorder."},blocks:{title:"ðŸ§± Content Blocks",content:"Create reusable content sections like heroes, features, and CTAs."},links:{title:"ðŸ”— Links & Navigation",content:"Manage navigation links, social media, and call-to-action buttons."},contentManager:{title:"ðŸ“ Content Manager",content:"Open the full content manager for advanced media and content block editing."},undo:{title:"Undo",content:"Revert your last change. Keyboard shortcut: Ctrl+Z",shortcut:"Ctrl+Z"},redo:{title:"Redo",content:"Restore a reverted change. Keyboard shortcut: Ctrl+Y",shortcut:"Ctrl+Y"},reset:{title:"Reset Changes",content:"Discard all unsaved changes and revert to the last saved state."},saveDraft:{title:"Save Draft",content:"Save your changes without publishing. Your changes will be preserved but not visible to visitors."},publish:{title:"Publish",content:"Make your changes live! Visitors will see the updated design immediately."},refresh:{title:"Refresh Preview",content:"Reload the preview to see the latest changes from the server."},viewport:{title:"Responsive Preview",content:"Test how your site looks on different devices. Switch between desktop, tablet, and mobile views."},collapse:{title:"Toggle Sidebar",content:"Collapse or expand the sidebar to see more of the preview."},close:{title:"Close Customizer",content:"Exit the customizer and return to the dashboard. Unsaved changes will prompt for confirmation."},startTour:{title:"ðŸŽ“ Start Tour",content:"Take a guided tour through the customization process. Perfect for first-time users!"}},ms=()=>window.location.port!=="5173"?window.location.origin:"http://localhost:3000",le="theme_customizer_onboarding",oe={colors:{primary:"#3B82F6",secondary:"#8B5CF6",background:"#FFFFFF",surface:"#F9FAFB",text:"#1F2937",textMuted:"#6B7280",heading:"#111827",link:"#3B82F6",linkHover:"#2563EB",border:"#E5E7EB",accent:"#F59E0B"},typography:{headingFont:"Inter",bodyFont:"Inter",baseFontSize:16,lineHeight:1.6,headingWeight:700},layout:{sidebarPosition:"right",contentWidth:1200,headerStyle:"default",footerStyle:"default"},spacing:{sectionPadding:48,elementSpacing:24,containerPadding:24},borders:{radius:8,width:1}};function vs(){const o=ht();kt();const s=d.useRef(null),r=ms(),[t,n]=d.useState(!0),[i,g]=d.useState(!1),[c,y]=d.useState(null),[p,m]=d.useState(oe),{state:u,setState:l,undo:j,redo:x,canUndo:w,canRedo:F,reset:f}=hs(oe),[v,b]=d.useState(""),[N,S]=d.useState("full"),[k,$]=d.useState(null),[B,xe]=d.useState(!1),[he,K]=d.useState(!1),[Je,V]=d.useState(!0),[me,ee]=d.useState(!1),[R,Ke]=d.useState(null),J=d.useRef(null),[ue,Ve]=d.useState(!1),[Ge,ge]=d.useState(null),[te,O]=d.useState(!1),[A,H]=d.useState(null),[se,ae]=d.useState([]);d.useEffect(()=>{const a=localStorage.getItem(le);if(a)try{const h=JSON.parse(a);ae(h.completedSteps||[]),h.hasSeenTour||(O(!0),H("welcome"))}catch{O(!0),H("welcome")}else O(!0),H("welcome")},[]),d.useEffect(()=>{(se.length>0||!te)&&localStorage.setItem(le,JSON.stringify({completedSteps:se,hasSeenTour:!0,currentStep:A}))},[se,te,A]);const G=JSON.stringify(p)!==JSON.stringify(u),pe=d.useCallback(()=>R?`${r}?_preview_token=${encodeURIComponent(R)}`:null,[r,R]),Y=d.useCallback(async()=>{try{const a=await E.getPreviewToken();Ke(a.data.token);const h=(a.data.expiresIn-60)*1e3;J.current&&clearTimeout(J.current),J.current=setTimeout(Y,Math.max(h,6e4))}catch(a){console.error("Failed to get preview token:",a),K(!0)}},[]);d.useEffect(()=>(Ye(),Y(),()=>{J.current&&clearTimeout(J.current)}),[Y]),d.useEffect(()=>{const a=h=>{if(![window.location.origin].includes(h.origin))return;const W=h.data;if(!(!W||typeof W!="object"))switch(W.type){case"CUSTOMIZER_READY":ee(!0),re();break;case"CUSTOMIZER_PONG":ee(!0);break;case"ELEMENT_SELECTED":ge(W.element);break}};return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[]),d.useEffect(()=>{me&&re()},[u,v,me]);const Ye=async()=>{try{n(!0);const a=await E.getActive();if(a.data)y(a.data),m(a.data.settings),f(a.data.settings),b(a.data.customCSS||"");else{const h=await E.getAll();if(h.data&&h.data.length>0){const z=h.data[0];await E.activate(z.id),y(z),m(z.settings),f(z.settings),b(z.customCSS||""),T.success(`Activated theme: ${z.name}`)}else{const z=await E.create({name:"Default Theme",description:"Auto-generated default theme",settings:oe,isDefault:!0});await E.activate(z.data.id),y(z.data),m(z.data.settings),f(z.data.settings),T.success("Created and activated Default Theme")}}}catch(a){console.error("Error loading theme:",a),T.error("Failed to load or create theme")}finally{n(!1)}},re=d.useCallback(()=>{var h;if(!((h=s.current)!=null&&h.contentWindow))return;const a=qe(u);s.current.contentWindow.postMessage({type:"CUSTOMIZER_UPDATE_STYLES",css:a},"*"),s.current.contentWindow.postMessage({type:"CUSTOMIZER_UPDATE_CUSTOM_CSS",customCSS:v},"*")},[u,v]),be=d.useCallback(a=>{var h;Ve(a),a||ge(null),(h=s.current)!=null&&h.contentWindow&&s.current.contentWindow.postMessage({type:"CUSTOMIZER_TOGGLE_INSPECTOR",enabled:a},"*")},[]),Ze=d.useCallback(a=>{var h;(h=s.current)!=null&&h.contentWindow&&s.current.contentWindow.postMessage({type:"CUSTOMIZER_LOAD_FONT",font:a},"*")},[]),qe=a=>{const h=a.typography.letterSpacing||0,z=a.typography.bodyWeight||400;return`
      :root {
        --color-primary: ${a.colors.primary} !important;
        --color-secondary: ${a.colors.secondary} !important;
        --color-background: ${a.colors.background} !important;
        --color-surface: ${a.colors.surface} !important;
        --color-text: ${a.colors.text} !important;
        --color-text-muted: ${a.colors.textMuted} !important;
        --color-heading: ${a.colors.heading} !important;
        --color-link: ${a.colors.link} !important;
        --color-link-hover: ${a.colors.linkHover} !important;
        --color-border: ${a.colors.border} !important;
        --color-accent: ${a.colors.accent} !important;
        --font-heading: "${a.typography.headingFont}", system-ui, sans-serif !important;
        --font-body: "${a.typography.bodyFont}", system-ui, sans-serif !important;
        --font-size-base: ${a.typography.baseFontSize}px !important;
        --line-height: ${a.typography.lineHeight} !important;
        --heading-weight: ${a.typography.headingWeight} !important;
        --body-weight: ${z} !important;
        --letter-spacing: ${h}em !important;
        --content-width: ${a.layout.contentWidth}px !important;
        --section-padding: ${a.spacing.sectionPadding}px !important;
        --element-spacing: ${a.spacing.elementSpacing}px !important;
        --container-padding: ${a.spacing.containerPadding}px !important;
        --border-radius: ${a.borders.radius}px !important;
        --border-width: ${a.borders.width}px !important;
      }
      body {
        background-color: ${a.colors.background} !important;
        color: ${a.colors.text} !important;
        font-family: "${a.typography.bodyFont}", system-ui, sans-serif !important;
        font-size: ${a.typography.baseFontSize}px !important;
        font-weight: ${z} !important;
        line-height: ${a.typography.lineHeight} !important;
        letter-spacing: ${h}em !important;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: "${a.typography.headingFont}", system-ui, sans-serif !important;
        font-weight: ${a.typography.headingWeight} !important;
        color: ${a.colors.heading} !important;
        letter-spacing: ${h}em !important;
      }
      ${a.typography.h1Size?`h1 { font-size: ${a.typography.h1Size}px !important; }`:""}
      ${a.typography.h2Size?`h2 { font-size: ${a.typography.h2Size}px !important; }`:""}
      ${a.typography.h3Size?`h3 { font-size: ${a.typography.h3Size}px !important; }`:""}
      ${a.typography.h4Size?`h4 { font-size: ${a.typography.h4Size}px !important; }`:""}
      ${a.typography.h5Size?`h5 { font-size: ${a.typography.h5Size}px !important; }`:""}
      ${a.typography.h6Size?`h6 { font-size: ${a.typography.h6Size}px !important; }`:""}
      a { color: ${a.colors.link} !important; }
      a:hover { color: ${a.colors.linkHover} !important; }
      .container, .content-wrapper, main { max-width: ${a.layout.contentWidth}px !important; }
      section { padding: ${a.spacing.sectionPadding}px 0 !important; }
      .card, .post-card, .widget { border-radius: ${a.borders.radius}px !important; border-width: ${a.borders.width}px !important; }
    `},M=d.useCallback((a,h,z)=>{const W=JSON.parse(JSON.stringify(u)),Z=a.split(".");let ne=W;for(let ie=0;ie<Z.length-1;ie++)ne=ne[Z[ie]];ne[Z[Z.length-1]]=h,l(W,z||`Update ${a}`)},[u,l]),Qe=d.useCallback(a=>{const h={...u,colors:a};l(h,"Apply color palette")},[u,l]),Xe=d.useCallback((a,h)=>{l(a,"Import settings"),h!==void 0&&b(h)},[l]),et=d.useCallback(a=>{b(h=>h?h+`

`+a:a),$("css"),T.success("CSS rule added")},[]),tt=async()=>{if(!c){T.error("No active theme to save");return}try{g(!0),await E.update(c.id,{settings:u,customCSS:v}),m(u),T.success("Draft saved successfully")}catch{T.error("Failed to save draft")}finally{g(!1)}},st=async()=>{if(!c){T.error("No active theme to publish");return}try{g(!0),await E.update(c.id,{settings:u,customCSS:v}),await E.activate(c.id),m(u),T.success("Theme published successfully!"),s.current&&R&&(V(!0),ee(!1),s.current.src=pe()||"")}catch{T.error("Failed to publish theme")}finally{g(!1)}},at=()=>{f(p),b((c==null?void 0:c.customCSS)||""),T.success("Changes reverted")},rt=()=>{G?confirm("You have unsaved changes. Are you sure you want to leave?")&&o("/"):o("/")},nt=()=>{const a=ds(N);return typeof a=="number"?`${a}px`:a},ye=[{id:"colors",name:"Colors",icon:Ct},{id:"typography",name:"Typography",icon:ce},{id:"header",name:"Header",icon:Fe},{id:"footer",name:"Footer",icon:Re},{id:"layout",name:"Layout",icon:Ft},{id:"homepage",name:"Homepage",icon:zt}],je=[{id:"images",name:"Media Library",icon:Tt},{id:"blocks",name:"Content Blocks",icon:Fe},{id:"links",name:"Links & Navigation",icon:Pt}],fe=[{id:"palette",name:"Color Palette",icon:Be},{id:"advTypography",name:"Advanced Typography",icon:ce},{id:"spacing",name:"Spacing & Layout",icon:Oe},{id:"css",name:"Custom CSS",icon:de},{id:"inspector",name:"Element Inspector",icon:We},{id:"importExport",name:"Import / Export",icon:De}],it=()=>{if(!A)return;const a=q.find(h=>h.id===A);a!=null&&a.nextStep?(ae(h=>[...h,A]),H(a.nextStep),a.nextStep==="choose-colors"?$("colors"):a.nextStep==="set-typography"?$("typography"):a.nextStep==="configure-header"?$("header"):a.nextStep==="add-content"?$(null):a.nextStep==="upload-images"?$("images"):a.nextStep==="create-blocks"?$("blocks"):a.nextStep==="add-links"&&$("links")):(O(!1),H(null))},lt=()=>{O(!1),H(null),localStorage.setItem(le,JSON.stringify({completedSteps:["skipped"],hasSeenTour:!0,currentStep:null}))},ot=()=>{O(!0),H("welcome"),ae([])},ve=()=>q.find(a=>a.id===A)||null,ct=()=>q.findIndex(a=>a.id===A);return t?e.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400",children:"Loading Theme Customizer..."})]})}):e.jsxs("div",{className:"h-screen flex bg-slate-900 overflow-hidden",children:[e.jsxs("div",{className:`bg-slate-800/80 backdrop-blur flex flex-col transition-all duration-300 border-r border-slate-700/50 ${B?"w-16":"w-80"}`,children:[e.jsxs("div",{className:"p-4 border-b border-slate-700/50 flex items-center justify-between",children:[!B&&e.jsxs("div",{children:[e.jsx("h1",{className:"text-white font-semibold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:"Customize"}),e.jsx("p",{className:"text-xs text-slate-400",children:(c==null?void 0:c.name)||"Theme"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>xe(!B),className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700/50 transition-all",children:B?e.jsx(U,{size:18}):e.jsx(Ce,{size:18})}),e.jsx("button",{onClick:rt,className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700/50 transition-all",children:e.jsx(Q,{size:18})})]})]}),!B&&!k&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx(I,{title:C.startTour.title,content:C.startTour.content,position:"right",variant:"help",children:e.jsxs("button",{onClick:ot,className:"w-full flex items-center gap-3 p-3 mb-4 rounded-xl bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 text-blue-300 hover:from-blue-600/30 hover:to-purple-600/30 transition-all group","data-action":"start-tour",children:[e.jsx(Me,{size:18,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:"Start Guided Tour"}),e.jsx(U,{size:14,className:"ml-auto text-blue-400 group-hover:translate-x-1 transition-transform"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-1",children:"ðŸŽ¨ Design"}),e.jsx("div",{className:"space-y-1",children:ye.map(a=>{const h=C[a.id];return e.jsx(I,{title:(h==null?void 0:h.title)||a.name,content:(h==null?void 0:h.content)||"",position:"right",variant:"help",children:e.jsxs("button",{onClick:()=>$(a.id),className:"w-full flex items-center gap-3 p-3 rounded-xl text-slate-300 hover:bg-slate-700/50 hover:text-white transition-all group","data-panel":a.id,children:[e.jsx(a.icon,{size:18,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:a.name}),e.jsx(U,{size:14,className:"ml-auto text-slate-500 group-hover:translate-x-1 transition-transform"})]})},a.id)})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-1",children:"ðŸ“ Content"}),e.jsxs("div",{className:"space-y-1",children:[je.map(a=>{const h=C[a.id];return e.jsx(I,{title:(h==null?void 0:h.title)||a.name,content:(h==null?void 0:h.content)||"",position:"right",variant:"help",children:e.jsxs("button",{onClick:()=>$(a.id),className:"w-full flex items-center gap-3 p-3 rounded-xl text-slate-300 hover:bg-slate-700/50 hover:text-white transition-all group","data-panel":a.id,"data-tab":a.id,children:[e.jsx(a.icon,{size:18,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:a.name}),e.jsx(U,{size:14,className:"ml-auto text-slate-500 group-hover:translate-x-1 transition-transform"})]})},a.id)}),e.jsx(I,{title:C.contentManager.title,content:C.contentManager.content,position:"right",variant:"help",children:e.jsxs(mt,{to:"/admin/theme-content",className:"w-full flex items-center gap-3 p-3 rounded-xl text-slate-400 hover:bg-slate-700/30 hover:text-slate-200 transition-all group border border-dashed border-slate-600/50","data-action":"manage-content",children:[e.jsx($t,{size:18,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:"Full Content Manager"}),e.jsx(U,{size:14,className:"ml-auto text-slate-500 group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2 px-1",children:"âš™ï¸ Advanced"}),e.jsx("div",{className:"space-y-1",children:fe.map(a=>{const h=C[a.id];return e.jsx(I,{title:(h==null?void 0:h.title)||a.name,content:(h==null?void 0:h.content)||"",position:"right",variant:"help",children:e.jsxs("button",{onClick:()=>$(a.id),className:"w-full flex items-center gap-3 p-3 rounded-xl text-slate-300 hover:bg-slate-700/50 hover:text-white transition-all group","data-panel":a.id,children:[e.jsx(a.icon,{size:18,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:a.name}),e.jsx(U,{size:14,className:"ml-auto text-slate-500 group-hover:translate-x-1 transition-transform"})]})},a.id)})})]})]}),!B&&k&&e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("button",{onClick:()=>{$(null),be(!1)},className:"flex items-center gap-2 p-4 text-slate-400 hover:text-white border-b border-slate-700/50 w-full transition-colors",children:[e.jsx(Ce,{size:16}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{className:"p-4",children:[k==="colors"&&e.jsx(_t,{settings:u,onChange:M}),k==="typography"&&e.jsx(Jt,{settings:u,onChange:M}),k==="header"&&e.jsx(Kt,{settings:u,onChange:M}),k==="footer"&&e.jsx(Gt,{settings:u,onChange:M}),k==="layout"&&e.jsx(Yt,{settings:u,onChange:M}),k==="homepage"&&e.jsx(Zt,{settings:u,onChange:M}),k==="images"&&c&&e.jsx(Ot,{themeId:c.id}),k==="blocks"&&c&&e.jsx(Wt,{themeId:c.id}),k==="links"&&c&&e.jsx(Dt,{themeId:c.id}),k==="palette"&&e.jsx(as,{settings:u,onChange:M,onApplyPalette:Qe}),k==="advTypography"&&e.jsx(rs,{settings:u,onChange:M,onLoadFont:Ze}),k==="spacing"&&e.jsx(is,{settings:u,onChange:M}),k==="css"&&e.jsx(Xt,{value:v,onChange:b}),k==="inspector"&&e.jsx(ls,{isEnabled:ue,onToggle:be,selectedElement:Ge,onGenerateCSS:et}),k==="importExport"&&e.jsx(os,{settings:u,customCSS:v,themeName:(c==null?void 0:c.name)||"Theme",onImport:Xe})]})]}),B&&e.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("div",{className:"space-y-1 px-2",children:[...ye,...je,...fe].map(a=>{const h=C[a.id];return e.jsx(I,{title:(h==null?void 0:h.title)||a.name,content:(h==null?void 0:h.content)||"",position:"right",variant:"help",children:e.jsx("button",{onClick:()=>{xe(!1),$(a.id)},className:"w-full p-2.5 rounded-xl text-slate-400 hover:bg-slate-700/50 hover:text-white transition-all flex items-center justify-center",children:e.jsx(a.icon,{size:18})})},a.id)})})}),e.jsx("div",{className:"p-4 border-t border-slate-700/50 space-y-2",children:!B&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(I,{title:C.undo.title,content:C.undo.content,shortcut:C.undo.shortcut,position:"top",children:e.jsxs("button",{onClick:j,disabled:!w,className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-600/50 disabled:opacity-30 disabled:cursor-not-allowed text-sm transition-all",children:[e.jsx(It,{size:14}),"Undo"]})}),e.jsx(I,{title:C.redo.title,content:C.redo.content,shortcut:C.redo.shortcut,position:"top",children:e.jsxs("button",{onClick:x,disabled:!F,className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-600/50 disabled:opacity-30 disabled:cursor-not-allowed text-sm transition-all",children:[e.jsx(Lt,{size:14}),"Redo"]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{title:C.saveDraft.title,content:C.saveDraft.content,position:"top",children:e.jsxs("button",{onClick:tt,disabled:!G||i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-700/50 text-white rounded-xl hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(He,{size:16}),"Save Draft"]})}),e.jsx(I,{title:C.reset.title,content:C.reset.content,position:"top",children:e.jsx("button",{onClick:at,disabled:!G,className:"p-2 bg-slate-700/50 text-slate-300 rounded-xl hover:bg-slate-600/50 disabled:opacity-50 transition-all",children:e.jsx(ze,{size:16})})})]}),e.jsx(I,{title:C.publish.title,content:C.publish.content,position:"top",children:e.jsx("button",{onClick:st,disabled:i,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 disabled:opacity-50 transition-all",children:i?"Publishing...":"Publish"})}),G&&e.jsx("p",{className:"text-xs text-amber-400 text-center",children:"You have unsaved changes"})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-slate-900",children:[e.jsxs("div",{className:"h-14 bg-slate-800/50 backdrop-blur border-b border-slate-700/50 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Preview"}),e.jsx(cs,{currentViewport:N,onViewportChange:S})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[ue&&e.jsx("span",{className:"text-xs text-blue-400 bg-blue-500/20 px-2 py-1 rounded-lg border border-blue-500/30",children:"Inspector Active"}),e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Open in new tab â†’"})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 relative ring-1 ring-slate-700/50",style:{width:nt(),height:N==="full"?"100%":"90%",maxHeight:"100%"},children:[(Je||!R)&&!he&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-800 z-10",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-slate-300",children:"Loading preview..."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:R?`Connecting to ${r}`:"Authenticating..."})]}),he&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-800 z-10 p-8",children:[e.jsx(Ue,{className:"text-amber-500 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Cannot Connect to Server"}),e.jsxs("p",{className:"text-slate-400 text-center mb-4 max-w-md",children:["The backend server at ",e.jsx("code",{className:"bg-slate-700 px-2 py-1 rounded text-slate-300",children:r})," is not responding."]}),e.jsxs("div",{className:"bg-slate-900 text-slate-300 rounded-xl p-4 mb-4 font-mono text-sm max-w-md border border-slate-700/50",children:[e.jsx("p",{className:"text-slate-500 mb-2",children:"# Start the backend server:"}),e.jsx("p",{children:"npm run start:dev"})]}),e.jsxs("button",{onClick:async()=>{K(!1),V(!0),await Y()},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20 transition-all",children:[e.jsx(ze,{size:16})," Retry Connection"]})]}),R&&e.jsx("iframe",{ref:s,src:pe()||"",className:"w-full h-full border-0",title:"Theme Preview",onLoad:()=>{V(!1),K(!1),re()},onError:()=>{V(!1),K(!0)}})]})})]}),te&&A&&ve()&&e.jsx(Ut,{step:ve(),currentStepIndex:ct(),totalSteps:q.length,onNext:it,onSkip:lt,onComplete:()=>{O(!1),H(null)}}),e.jsx("style",{children:`
        .onboarding-highlight {
          position: relative;
          z-index: 9998;
          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5), 0 0 20px rgba(59, 130, 246, 0.3);
          border-radius: 8px;
          animation: pulse-highlight 2s ease-in-out infinite;
        }
        @keyframes pulse-highlight {
          0%, 100% { box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5), 0 0 20px rgba(59, 130, 246, 0.3); }
          50% { box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.7), 0 0 30px rgba(59, 130, 246, 0.5); }
        }
      `})]})}export{vs as default};

import{r as a,j as e}from"./vendor-react-D2QycniR.js";import{w as G,M as P,V as R,aX as $,z as c,m as w,af as K,v as z,a6 as Q,at as H,cr as g,j as O,o as Z,G as ee,I as se}from"./index-Bpp1ZX0C.js";import{C as te}from"./ConfirmDialog-CIfAj9N-.js";import{a as A}from"./sanitize-B6KaGUlq.js";import"./vendor-editor-Cn7QR8gj.js";import"./vendor-utils-BWf5C302.js";import"./vendor-socket-CA1CrNgP.js";function le({htmlContent:r,onChange:n,previewHtml:x}){const[o,t]=a.useState("html"),[m,d]=a.useState(!1),h=()=>{navigator.clipboard.writeText(r),d(!0),c.success("HTML copied to clipboard"),setTimeout(()=>d(!1),2e3)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>t("html"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${o==="html"?"bg-indigo-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(G,{size:18}),"HTML Editor"]}),e.jsxs("button",{onClick:()=>t("preview"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${o==="preview"?"bg-indigo-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(P,{size:18}),"Preview"]})]}),o==="html"&&e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 text-sm bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-all",children:[m?e.jsx(R,{size:16,className:"text-green-600"}):e.jsx($,{size:16}),m?"Copied!":"Copy HTML"]})]}),o==="html"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"HTML Content"}),e.jsx("textarea",{value:r,onChange:f=>n(f.target.value),className:"w-full h-96 p-4 font-mono text-sm border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all resize-none",placeholder:"Enter your HTML email template here...",spellCheck:"false"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ðŸ’¡ Tip: Use Handlebars syntax like ","{{user.name}}"," for dynamic variables"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Live Preview"}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-50 p-4 border-b border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"ðŸ“§ Email Preview"})}),e.jsx("div",{className:"p-4 overflow-auto max-h-96 bg-white",children:x?e.jsx("div",{className:"max-w-2xl mx-auto",dangerouslySetInnerHTML:{__html:A(x)}}):e.jsx("div",{className:"max-w-2xl mx-auto",dangerouslySetInnerHTML:{__html:A(r)}})})]})]})]})}function ae({isOpen:r,onClose:n,htmlContent:x,subject:o,templateName:t}){if(!r)return null;const m=()=>{const d=document.createElement("a"),h=new Blob([x],{type:"text/html"});d.href=URL.createObjectURL(h),d.download=`${t||"email-template"}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),c.success("Template downloaded")};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{size:24}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Email Preview"}),o&&e.jsx("p",{className:"text-sm text-indigo-100",children:o})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-lg transition-all",title:"Download HTML",children:e.jsx(K,{size:20})}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:e.jsx(z,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-gray-100 to-gray-50 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl overflow-hidden border-8 border-gray-800",children:[e.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),e.jsx("div",{className:"flex-1 text-center",children:e.jsx("p",{className:"text-xs text-gray-400 font-mono",children:"preview.email"})})]}),e.jsx("div",{className:"bg-white p-6 overflow-auto max-h-96",children:e.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:A(x)}})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," This preview shows how your email will look in most email clients. Test with different devices and email providers for best results."]})})]})})]})})}const re=[{name:"user.name",description:"Full name of the user",example:"John Doe"},{name:"user.firstName",description:"First name of the user",example:"John"},{name:"user.email",description:"Email address of the user",example:"john@example.com"},{name:"site.name",description:"Name of your website",example:"My Awesome Site"},{name:"site.url",description:"URL of your website",example:"https://example.com"},{name:"year",description:"Current year",example:"2024"}];function ie({variables:r=re}){const[n,x]=a.useState(!0),o=t=>{navigator.clipboard.writeText(`{{${t}}}`),c.success(`Copied: {{${t}}}`)};return e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>x(!n),className:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 transition-all border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“‹"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Template Variables"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Click to insert variables"})]})]}),e.jsx(Q,{size:20,className:`text-gray-600 transition-transform ${n?"rotate-180":""}`})]}),n&&e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:r.map((t,m)=>e.jsx("div",{className:"p-4 hover:bg-indigo-50 transition-colors group",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("code",{className:"text-sm font-mono font-semibold text-indigo-600 bg-indigo-50 px-2 py-1 rounded",children:`{{${t.name}}}`})}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t.description}),t.example&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Example: ",e.jsx("span",{className:"font-mono text-gray-700",children:t.example})]})]}),e.jsx("button",{onClick:()=>o(t.name),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-white rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy variable",children:e.jsx($,{size:16})})]})},m))}),e.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["ðŸ’¡ Use double curly braces ","{{variable}}"," in your template"]})})]})}function ne({isOpen:r,onClose:n,templateId:x,templateName:o}){const[t,m]=a.useState(""),[d,h]=a.useState(!1),f=async b=>{var j,y;if(b.preventDefault(),!t){c.error("Please enter an email address");return}h(!0);try{await g.sendTestEmail({templateId:x,to:t,variables:{user:{name:"Test User",firstName:"Test",email:t},site:{name:"My Website",url:"https://example.com"},year:new Date().getFullYear()}}),c.success(`Test email sent to ${t}`),m(""),n()}catch(l){c.error(((y=(j=l.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to send test email")}finally{h(!1)}};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{size:24}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Send Test Email"}),e.jsx("p",{className:"text-sm text-indigo-100",children:o})]})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:e.jsx(z,{size:20})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:t,onChange:b=>m(b.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ We'll send a test email with sample data to this address"})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-900",children:[e.jsx("strong",{children:"Note:"})," Test emails are marked with [TEST] in the subject line"]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border-2 border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(H,{size:18}),d?"Sending...":"Send Test"]})]})]})]})}):null}const D=[{value:"WELCOME",label:"Welcome"},{value:"PASSWORD_RESET",label:"Password Reset"},{value:"ORDER_CONFIRMATION",label:"Order Confirmation"},{value:"COURSE_ENROLLMENT",label:"Course Enrollment"},{value:"NEWSLETTER",label:"Newsletter"},{value:"PROMOTIONAL",label:"Promotional"},{value:"CUSTOM",label:"Custom"}];function be(){const[r,n]=a.useState([]),[x,o]=a.useState(!0),[t,m]=a.useState(!1),[d,h]=a.useState(!1),[f,b]=a.useState(!1),[j,y]=a.useState(""),[l,T]=a.useState(null),[_,I]=a.useState(""),[U,W]=a.useState(""),[i,p]=a.useState({name:"",slug:"",type:"CUSTOM",subject:"",htmlContent:"",textContent:"",isActive:!0}),[C,S]=a.useState({isOpen:!1,id:null}),[v,M]=a.useState("ALL");a.useEffect(()=>{E()},[]);const E=async()=>{try{const s=await g.getTemplates({limit:100});n(s.data.data||[])}catch{c.error("Failed to load email templates")}finally{o(!1)}},k=s=>{s?(T(s),p({name:s.name,slug:s.slug,type:s.type,subject:s.subject,htmlContent:s.htmlContent,textContent:s.textContent||"",isActive:s.isActive})):(T(null),p({name:"",slug:"",type:"CUSTOM",subject:"",htmlContent:oe(),textContent:"",isActive:!0})),m(!0)},L=()=>{m(!1),T(null)},V=async s=>{var u,N;s.preventDefault();try{l?(await g.updateTemplate(l.id,i),c.success("Template updated successfully")):(await g.createTemplate(i),c.success("Template created successfully")),L(),E()}catch(X){c.error(((N=(u=X.response)==null?void 0:u.data)==null?void 0:N.message)||"Failed to save template")}},Y=async()=>{var s,u;if(C.id)try{await g.deleteTemplate(C.id),c.success("Template deleted successfully"),S({isOpen:!1,id:null}),E()}catch(N){c.error(((u=(s=N.response)==null?void 0:s.data)==null?void 0:u.message)||"Failed to delete template")}},q=async s=>{try{const u=await g.previewTemplate(s.id,{user:{name:"John Doe",firstName:"John",email:"john@example.com"},site:{name:"My Website",url:"https://example.com"},year:new Date().getFullYear()});y(u.data.html),h(!0)}catch{c.error("Failed to preview template")}},J=s=>{I(s.id),W(s.name),b(!0)},F=v==="ALL"?r:r.filter(s=>s.type===v),B=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return x?e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-700 border-t-indigo-500"})}):e.jsxs("div",{className:"min-h-screen bg-slate-900 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent mb-2",children:"Email Templates"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Create and manage beautiful email templates"})]}),e.jsxs("button",{onClick:()=>k(),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:shadow-lg shadow-indigo-500/20 transition-all transform hover:scale-105",children:[e.jsx(O,{size:20}),"New Template"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-4 border-l-4 border-indigo-500 border border-slate-700/50",children:[e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Total Templates"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:r.length})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-4 border-l-4 border-green-500 border border-slate-700/50",children:[e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:r.filter(s=>s.isActive).length})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-4 border-l-4 border-purple-500 border border-slate-700/50",children:[e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"System Templates"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:r.filter(s=>s.isSystem).length})]})]})]}),e.jsxs("div",{className:"mb-6 flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>M("ALL"),className:`px-4 py-2 rounded-xl font-medium transition-all ${v==="ALL"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800/50 text-slate-300 border border-slate-700/50 hover:border-indigo-500/50"}`,children:"All"}),D.map(s=>e.jsx("button",{onClick:()=>M(s.value),className:`px-4 py-2 rounded-xl font-medium transition-all ${v===s.value?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800/50 text-slate-300 border border-slate-700/50 hover:border-indigo-500/50"}`,children:s.label},s.value))]}),F.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(s=>{var u;return e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50 hover:border-slate-600 transition-all overflow-hidden group",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 p-4 border-b border-slate-700/50",children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-slate-400 truncate",children:s.subject})]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold whitespace-nowrap ${s.isSystem?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:s.isSystem?"ðŸ”’ System":"âœï¸ Custom"})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-300 bg-slate-700/50 px-3 py-1 rounded-full",children:s.type.replace("_"," ")}),e.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${s.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:s.isActive?"ðŸŸ¢ Active":"ðŸ”´ Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400 pt-2 border-t border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{size:16,className:"text-indigo-400"}),e.jsxs("span",{children:[((u=s._count)==null?void 0:u.emailLogs)||0," sent"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:16,className:"text-slate-500"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bg-slate-700/30 p-4 border-t border-slate-700/50 flex gap-2",children:[e.jsxs("button",{onClick:()=>q(s),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-700/50 border border-slate-600/50 text-slate-300 rounded-xl hover:bg-indigo-500/20 hover:border-indigo-500/50 hover:text-indigo-300 transition-all font-medium text-sm",title:"Preview",children:[e.jsx(P,{size:16}),"Preview"]}),e.jsxs("button",{onClick:()=>k(s),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-700/50 border border-slate-600/50 text-slate-300 rounded-xl hover:bg-indigo-500/20 hover:border-indigo-500/50 hover:text-indigo-300 transition-all font-medium text-sm",title:"Edit",children:[e.jsx(ee,{size:16}),"Edit"]}),e.jsxs("button",{onClick:()=>J(s),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-700/50 border border-slate-600/50 text-slate-300 rounded-xl hover:bg-green-500/20 hover:border-green-500/50 hover:text-green-300 transition-all font-medium text-sm",title:"Send Test",children:[e.jsx(H,{size:16}),"Test"]}),!s.isSystem&&e.jsx("button",{onClick:()=>S({isOpen:!0,id:s.id}),className:"px-3 py-2 bg-slate-700/50 border border-slate-600/50 text-red-400 rounded-xl hover:bg-red-500/20 hover:border-red-500/50 transition-all font-medium text-sm",title:"Delete",children:e.jsx(se,{size:16})})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-16 bg-slate-800/50 backdrop-blur rounded-xl border-2 border-dashed border-slate-700",children:[e.jsx(w,{className:"mx-auto text-6xl text-slate-600 mb-4"}),e.jsx("p",{className:"text-white text-lg font-medium mb-2",children:"No email templates found"}),e.jsx("p",{className:"text-slate-400 mb-6",children:v!=="ALL"?"Try changing the filter":"Create your first template to get started"}),e.jsxs("button",{onClick:()=>k(),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:shadow-lg shadow-indigo-500/20 transition-all",children:[e.jsx(O,{size:20}),"Create Template"]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col shadow-2xl border border-slate-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:l?"âœï¸ Edit Template":"ðŸ“§ New Template"}),e.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:l?`Editing: ${l.name}`:"Create a new email template"})]}),e.jsx("button",{onClick:L,className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:e.jsx(z,{size:24})})]}),e.jsxs("form",{onSubmit:V,className:"flex-1 overflow-y-auto p-6 bg-slate-800",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"bg-slate-700/30 p-4 rounded-xl border border-slate-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-4",children:"Template Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",value:i.name,onChange:s=>{p({...i,name:s.target.value,slug:l?i.slug:B(s.target.value)})},className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:i.slug,onChange:s=>p({...i,slug:s.target.value}),className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all disabled:opacity-50",required:!0,disabled:l==null?void 0:l.isSystem})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Type"}),e.jsx("select",{value:i.type,onChange:s=>p({...i,type:s.target.value}),className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all disabled:opacity-50",disabled:l==null?void 0:l.isSystem,children:D.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-xl border border-slate-600/50 cursor-pointer hover:border-indigo-500/50 transition-all",children:[e.jsx("input",{type:"checkbox",checked:i.isActive,onChange:s=>p({...i,isActive:s.target.checked}),className:"w-5 h-5 rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"font-medium text-slate-300",children:"Active"})]})]})]}),e.jsx(ie,{})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Email Subject"}),e.jsx("input",{type:"text",value:i.subject,onChange:s=>p({...i,subject:s.target.value}),className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all",required:!0,placeholder:"e.g., Welcome to {{site.name}}!"})]}),e.jsx(le,{htmlContent:i.htmlContent,onChange:s=>p({...i,htmlContent:s}),previewHtml:j})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-slate-700/50",children:[e.jsx("button",{type:"button",onClick:L,className:"px-6 py-2 bg-slate-700/50 border border-slate-600/50 text-slate-300 font-semibold rounded-xl hover:bg-slate-600/50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[e.jsx(R,{size:18}),"Save Template"]})]})]})]})}),e.jsx(ae,{isOpen:d,onClose:()=>h(!1),htmlContent:j,subject:l==null?void 0:l.subject,templateName:l==null?void 0:l.name}),e.jsx(ne,{isOpen:f,onClose:()=>b(!1),templateId:_,templateName:U}),e.jsx(te,{isOpen:C.isOpen,title:"Delete Template",message:"Are you sure you want to delete this template? This action cannot be undone.",onConfirm:Y,onCancel:()=>S({isOpen:!1,id:null})})]})}function oe(){return`<!DOCTYPE html>
<html><head><meta charset="utf-8"></head>
<body style="font-family: Arial, sans-serif; padding: 20px;">
  <h1>Hello {{user.name}}</h1>
  <p>Your content here...</p>
</body></html>`}export{be as default};
